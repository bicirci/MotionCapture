(function(g,t){var x={val:function(c){return this.val(c)},disabled:function(c){typeof c!=="undefined"&&this.filter("input").each(function(){var d=g(this);if(!c&&e(d))j(d);else c&&!e(d)&&l(d)});return this.is("input:disabled")}},w=null,y=null,v=function(c){c=g.extend({},g.fn.glowColorSelector.defaults,c||{});if(y===null){w=g.telligent.glow.utility;y=p(c)}return this.each(function(){var d=g(this);d.css({backgroundColor:d&&d.val()?w.convertRgbColorToHtmlColor(w.convertHtmlColorToRgbColor(d.val())):"",
textAlign:"center",color:w.getContrastingHtmlColorForRgbColor(w.convertHtmlColorToRgbColor(d&&d.val()?w.convertRgbColorToHtmlColor(w.convertHtmlColorToRgbColor(d.val())):""))});e(d)?l(d):j(d)})},p=function(c){var d={blendImageUrl:c.blendImageUrl,hueBlendImageUrl:c.hueBlendImageUrl,moveStartX:null,moveStartY:null,elementMoveStartX:null,elementMoveStartY:null};c=g("<div></div>").css({width:"290px",padding:"2px",paddingLeft:"6px",borderStyle:"solid",borderWidth:"1px",borderColor:"#000000",backgroundColor:"#eeeeee",
boxSizing:"content-box"});d.popupPanel=g("<div></div>").glowPopUpPanel({cssClass:"",position:"updown",zIndex:1E3,hideOnDocumentClick:false}).glowPopUpPanel("empty").glowPopUpPanel("append",c);d.selectBoxBackground=g("<div></div>").css({width:"256px",height:"256px",borderWidth:"1px",borderStyle:"solid",borderColor:"#000000",padding:"0px",cssFloat:"left",boxSizing:"content-box"}).appendTo(c);d.selectBox=g("<div></div>").css({width:"256px",height:"256px",cssFloat:"left",padding:"0px",cursor:"pointer",
boxSizing:"content-box"}).bind("mousedown.glowColorSelector",function(k){d.clickValueSaturationHandler(k);return false}).appendTo(d.selectBoxBackground);w.isIE()?d.selectBox.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src='"+d.blendImageUrl+"')",boxSizing:"content-box"}):d.selectBox.css({backgroundImage:"url('"+d.blendImageUrl+"')",backgroundRepeat:"no-repeat",backgroundPosition:"top left",boxSizing:"content-box"});d.selectBoxCursor=g("<div></div>").css({position:"absolute",
borderWidth:"3px",borderStyle:"solid",borderColor:"#666666",height:"7px",width:"7px",zIndex:1E3,left:"0px",top:"0px",marginLeft:"2px",marginTop:"-1px",cursor:"pointer",filter:"none",boxSizing:"content-box"}).bind("mousedown.glowColorSelector",function(k){d.cursorMouseDownHandler(k)}).appendTo(d.selectBoxBackground);g("<div></div>").css({position:"absolute",borderWidth:"3px",borderStyle:"solid",borderColor:"#ffffff",height:"1px",width:"1px",overflow:"hidden",boxSizing:"content-box"}).appendTo(d.selectBoxCursor);
d.hueSelectBox=g("<div></div>").css({width:"20px",height:"256px",lineHeight:"256px",boderStyle:"solid",borderWidth:"1px",borderColor:"#666666",marginLeft:"5px",cssFloat:"left",cursor:"default",backgroundImage:"url('"+d.hueBlendImageUrl+"')",boxSizing:"content-box"}).appendTo(c);var n=g("<div></div>").css({position:"relative",width:"20px",height:"256px",boxSizing:"content-box"}).appendTo(d.hueSelectBox);d.hueSelectCursor=g("<div></div>").css({position:"absolute",borderStyle:"solid",borderWidth:"3px",
borderColor:"#666666",height:"5px",width:"22px",marginLeft:"-4px",marginTop:"-5px",left:"0px",top:"0px",cursor:"pointer",boxSizing:"content-box"}).bind("mousedown.glowColorSelector",function(k){d.hueCursorMouseDownHandler(k)}).appendTo(n);g("<div></div>").css({position:"absolute",borderWidth:"2px",borderStyle:"solid",borderColor:"#ffffff",height:"1px",width:"18px",overflow:"hidden",boxSizing:"content-box"}).appendTo(d.hueSelectCursor);d.selectedColor=g('<input type="text" />').val("#ffffff").css({clear:"both",
width:"279px",textAlign:"center",fontFamily:"Courier New, Courier",fontWeight:"bold",padding:"0px",margin:"4px",marginLeft:"auto",marginRight:"auto",boxSizing:"content-box"}).bind("keyup.glowColorSelector",function(){d.parseEnteredColor();return true}).bind("change.glowColorSelector",function(){d.updateTemporaryValue(true);return true}).appendTo(c);d.selectButton=g('<input type="button" />').val("OK").css({width:"92px",padding:"0px",margin:"0px",boxSizing:"content-box"}).bind("click.glowColorSelector",
function(){d.selectTemporaryColor();return false}).appendTo(c);d.clearButton=g('<input type="button" />').val("Clear").css({width:"92px",padding:"0px",margin:"0px",marginLeft:"1px",boxSizing:"content-box"}).bind("click.glowColorSelector",function(){d.selectNoColor();return false}).appendTo(c);d.cancelButton=g('<input type="button" />').val("Cancel").css({width:"92px",padding:"0px",margin:"0px",marginLeft:"1px",boxSizing:"content-box"}).bind("click.glowColorSelector",function(){try{d.currentInput.focus()}catch(k){}d.popupPanel.glowPopUpPanel("hide");
return false}).appendTo(c);var f={cursorMouseDownHandler:function(k){d.moveStartX=k.pageX;d.moveStartY=k.pageY;d.elementMoveStartX=parseInt(d.selectBoxCursor.css("left"),10);d.elementMoveStartY=parseInt(d.selectBoxCursor.css("top"),10);g(document).bind("mouseup.glowColorSelector",function(a){f.endMoveTracking(a);return false}).bind("mousemove.glowColorSelector",function(a){f.cursorMouseMoveHandler(a);return false})},cursorMouseMoveHandler:function(k){var a=k.pageX-d.moveStartX;k=d.elementMoveStartY+
(k.pageY-d.moveStartY);if(k<0)k=0;if(k>255)k=255;a=d.elementMoveStartX+a;if(a<0)a=0;if(a>255)a=255;d.selectBoxCursor.css({left:a+"px",top:k+"px"});f.updateTemporaryValue()},hueCursorMouseDownHandler:function(k){d.moveStartX=k.pageX;d.moveStartY=k.pageY;d.elementMoveStartX=parseInt(d.hueSelectCursor.css("left"),10);d.elementMoveStartY=parseInt(d.hueSelectCursor.css("top"),10);g(document).bind("mouseup.glowColorSelector",function(a){f.endMoveTracking(a);return false}).bind("mousemove.glowColorSelector",
function(a){f.hueCursorMouseMoveHandler(a);return false})},hueCursorMouseMoveHandler:function(k){k=d.elementMoveStartY+((typeof k.pageY!="undefined"?k.pageY:k.screenY)-d.moveStartY);if(k<0)k=0;if(k>255)k=255;d.hueSelectCursor.css({top:k+"px"});f.updateTemporaryValue()},endMoveTracking:function(){g(document).unbind("mouseup.glowColorSelector").unbind("mousemove.glowColorSelector")},clickValueSaturationHandler:function(k){w.getWindowInfo();var a=w.getElementInfo(d.selectBox);d.selectBoxCursor.css({left:k.pageX-
a.Left+"px",top:k.pageY-a.Top+"px"});f.updateTemporaryValue();f.cursorMouseDownHandler(k)},updateTemporaryValue:function(k){var a=parseInt(d.selectBoxCursor.css("left"),10),b=(255-parseInt(d.selectBoxCursor.css("top"),10))/255,h=(255-parseInt(d.hueSelectCursor.css("top"),10))*(360/255),m=w.convertHsvColorToRgbColor([h,1,255]);d.selectBoxBackground.css({backgroundColor:w.convertRgbColorToHtmlColor(m)});m=w.convertHsvColorToRgbColor([h,b,a]);a=w.convertRgbColorToHtmlColor(m);d.selectedColor.css({backgroundColor:a});
k||d.selectedColor.val(a);d.selectedColor.css({color:w.getContrastingHtmlColorForRgbColor(m)})},parseEnteredColor:function(){var k=w.convertRgbColorToHsvColor(w.convertHtmlColorToRgbColor(d.selectedColor.val()));d.selectBoxCursor.css({left:k[2]+"px",top:k[1]*-255+255+"px"});d.hueSelectCursor.css({top:k[0]/-(360/255)+255+"px"});f.updateTemporaryValue(true)},showColorSelector:function(k){d.popupPanel.glowPopUpPanel("hide");d.currentInput=k;d.popupPanel.glowPopUpPanel("show",d.currentInput);k=w.convertRgbColorToHsvColor(w.convertHtmlColorToRgbColor(d.currentInput.val()));
d.selectBoxCursor.css({left:k[2]+"px",top:k[1]*-255+255+"px"});d.hueSelectCursor.css({top:k[0]/-(360/255)+255+"px"});d.selectedColor.val(d.currentInput.val());f.updateTemporaryValue(true);t.setTimeout(f.focusColorSelector,99)},focusColorSelector:function(){if(d.popupPanel.glowPopUpPanel("isOpening"))t.setTimeout(f.focusColorSelector,99);else try{d.selectedColor.focus().select()}catch(k){}},selectTemporaryColor:function(){if(d.currentInput!==null){o(d.currentInput,d.selectedColor.val(),true);try{d.currentInput.focus()}catch(k){}d.popupPanel.glowPopUpPanel("hide")}},
selectNoColor:function(){if(d.currentInput!==null){o(d.currentInput,"",true);try{d.currentInput.focus()}catch(k){}d.popupPanel.glowPopUpPanel("hide")}}};g.extend(d,f);return d},o=function(c,d,n){if(c){d=d?w.convertRgbColorToHtmlColor(w.convertHtmlColorToRgbColor(d)):"";var f=c.val()!=d;c.val(d).css({backgroundColor:c.val(),color:w.getContrastingHtmlColorForRgbColor(w.convertHtmlColorToRgbColor(c.val()))});f&&n&&c.trigger("change")}},l=function(c){c.unbind("click.glowColorSelector").unbind("keydown.glowColorSelector").css({cursor:"default"}).attr("disabled",
"disabled")},j=function(c){c.bind("click.glowColorSelector",function(){c.blur();y.showColorSelector(c);return false}).bind("keydown.glowColorSelector",function(d){if(d.keyCode!=9&&d.keyCode!=16){c.blur();y.showColorSelector(c);return false}else return true}).css({cursor:"pointer"}).removeAttr("disabled")},e=function(c){return c.is("input:disabled")};g.fn.glowColorSelector=function(c){if(c in x)return x[c].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof c==="object"||!c)return v.apply(this,
arguments);else g.error("Method "+c+" does not exist on jQuery.fn.glowColorSelector")};g.extend(g.fn.glowColorSelector,{defaults:{blendImageUrl:"hue_blend.png",hueBlendImageUrl:"sv_blend.png"}})})(jQuery,window);
(function(g,t){var x={val:function(c){if(c===undefined){var d=g(this).data(w);if(d===null)return null;var n=d.internal.patternedTextBox.glowPatternedTextBox("getPatternValues"),f,k,a;if(d.settings.yearIndex>=0){f=parseInt(n[d.settings.yearIndex],10);if(isNaN(f))return null}else f=(new Date).getFullYear();if(d.settings.dayIndex>=0){a=parseInt(n[d.settings.dayIndex],10);if(isNaN(a))return null}else a=(new Date).getDate();if(d.settings.monthIndex>=0){k=o(d,n[d.settings.monthIndex])-1;if(isNaN(k))return null}else k=
(new Date).getMonth();c=new Date(f,k,a);if(d.settings.hourIndex>=0){f=parseInt(n[d.settings.hourIndex],10);if(isNaN(f))return null;else d.settings.amPmIndex>=0?c.setHours(l(d,f,n[d.settings.amPmIndex])):c.setHours(l(d,f,-1))}if(d.settings.minuteIndex>=0){d=parseInt(n[d.settings.minuteIndex],10);if(isNaN(d))return null;else c.setMinutes(d)}return c}else return this.each(function(){var b=g(this).data(w),h=b.internal.patternedTextBox.glowPatternedTextBox("getPatternValues");if(b.settings.yearIndex>=
0)h[b.settings.yearIndex]=c.getFullYear();if(b.settings.monthIndex>=0){var m=b.settings.monthIndex,q;q=c.getMonth()+1;var r=b.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",b.settings.monthIndex,q-1);q=r?r:parseInt(q,10);h[m]=q}if(b.settings.dayIndex>=0)h[b.settings.dayIndex]=c.getDate();if(b.settings.hourIndex>=0){m=b.settings.hourIndex;q=c.getHours();h[m]=b.settings.amPmIndex>-1&&q>12?q-12:q}if(b.settings.minuteIndex>=0)h[b.settings.minuteIndex]=c.getMinutes();if(b.settings.amPmIndex>=
0){m=b.settings.amPmIndex;q=c.getHours();q=b.settings.amPmIndex>-1?q>=12?b.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",b.settings.amPmIndex,1):b.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",b.settings.amPmIndex,0):"";h[m]=q}b.internal.patternedTextBox.glowPatternedTextBox("setPatternValues",h)})},disabled:function(c){if(c===undefined){var d=this.data(w);if(d)return d.internal.patternedTextBox.glowPatternedTextBox("disabled");return false}else return this.each(function(){var n=
g(this).data(w);n.internal.patternedTextBox.glowPatternedTextBox("disabled",c);if(n.internal.popupButton)c?n.internal.popupButton.attr("disabled","disabled").unbind("click"+y):n.internal.popupButton.removeAttr("disabled").unbind("click"+y).bind("click"+y,function(){var f=x.val.apply(n.internal.state);f||(f=new Date);n.internal.currentDate=f;n.internal.currentMonth=f.getMonth()+1;n.internal.currentYear=f.getFullYear();j(n);n.internal.popupPanel.glowPopUpPanel("show",n.internal.popupButton)})})}},w=
"_glowDateTimeSelector",y=".glowDateTimeSelector",v=function(c){return this.each(function(){var d={settings:g.extend({},g.fn.glowDateTimeSelector.defaults,c||{}),internal:{state:g(this),initialized:false,patternedTextBox:null,popupButton:null,popupPanel:null,currentDate:new Date,currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth()+1}};g(this).data(w,d);t.setTimeout(function(){p(d)},9)})},p=function(c){c.internal.patternedTextBox=c.internal.state.glowPatternedTextBox({pattern:c.settings.pattern,
allowBlanks:c.settings.allowBlankvalue,blankCharacter:"_",onValidation:function(d,n,f,k){if(!(!c.internal.initialized||c.settings.monthIndex<0||c.settings.dayIndex<0)){d=o(c,n[c.settings.monthIndex]);var a=parseInt(n[c.settings.dayIndex],10),b=-1;if(c.internal.yearIndex>=0)b=parseInt(n[c.settings.yearIndex],10);if(!(isNaN(d)||isNaN(a))){var h=n[c.settings.dayIndex];if(d==2)if(!isNaN(b)&&b>-1&&(b%4===0&&b%100!==0||b%400===0)){if(a>29)h=k==c.settings.dayIndex&&f=="next"?"01":"29"}else{if(a>28)h=k==
c.settings.dayIndex&&f=="next"?"01":"28"}else if((d==4||d==6||d==9||d==11)&&a>30)h=k==c.settings.dayIndex&&f=="next"?"01":"30";n[c.settings.dayIndex]=h}}return n}}).bind("glowPatternedTextBoxChange"+y,function(){c.internal.state.trigger("glowDateTimeSelectorChange")});if(c.settings.showPopup&&c.internal.state){c.internal.popupButton=c.settings.calendarButtonImageUrl?g('<img style="border: 1px solid #ccc; padding: 2px; align: top; margin-left: 2px; background-color: #eee;" />').css({borderTopColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,
"border-top-color","borderTopColor","#999"),borderLeftColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"border-left-color","borderLeftColor","#999"),borderRightColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"border-right-color","borderRightColor","#999"),borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"border-bottom-color","borderBottomColor","#999"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,
"background-color","backgroundColor","#fff")}).attr("src",c.settings.calendarButtonImageUrl).insertAfter(c.internal.state):g('<input type="button" />').val(c.settings.calendarButtonText).addClass(c.settings.calendarButtonCssClass).insertAfter(c.internal.state);c.internal.popupPanel=g("<div></div>").insertAfter(c.internal.popupButton).glowPopUpPanel({cssClass:"",position:"updown",zIndex:3E5,hideOnDocumentClick:true})}x.disabled.apply(c.internal.state,[c.internal.patternedTextBox.glowPatternedTextBox("disabled")]);
c.internal.initialized=true},o=function(c,d){if(d===undefined)return parseInt("NaN",10);if(isNaN(parseInt(d,10))){var n=c.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOptionIndex",c.settings.monthIndex,d);if(n!==undefined)return n+1;return parseInt("NaN",10)}else return parseInt(d,10)},l=function(c,d,n){d=parseInt(d,10);if(isNaN(d))return d;if(n!==undefined&&c.settings.amPmIndex>-1){c=c.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOptionIndex",c.settings.amPmIndex,
n);if(c===0){if(d==12)d=0}else if(c===1)if(d!=12)d+=12}return d},j=function(c){if(c.internal.popupPanel){c.internal.popupPanel.glowPopUpPanel("empty");var d=g("<div></div>").css({borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderTopColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"border-top-color","borderTopColor","#999"),borderLeftColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,
"border-left-color","borderLeftColor","#999"),borderRightColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"border-right-color","borderRightColor","#999"),borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"border-bottom-color","borderBottomColor","#999"),fontFamily:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"font-family","fontFamily","Arial, Helvetica"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,
"background-color","backgroundColor","#fff"),padding:"2px",fontSize:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"font-size","fontSize","9pt"),color:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000")}),n=g("<table></table>").attr("cellPadding",0).attr("cellSpacing",0).css({borderWidth:"0px"}).appendTo(d);n=g("<tbody></tbody>").appendTo(n);var f=g("<tr></tr>"),k=g("<td></td>").css({textAlign:"center",padding:"2px",cursor:"pointer"}).bind("click"+
y,function(r){if(c.settings.dayIndex>-1){c.internal.currentMonth--;if(c.internal.currentMonth<1){c.internal.currentMonth=12;c.internal.currentYear>0&&c.internal.currentYear--}}else c.internal.currentYear--;j(c);r.stopPropagation();return false}).appendTo(f);g("<div></div>").addClass(c.settings.previousButtonCssClass).html("&lt;").appendTo(k);k=g("<td></td>").css({textAlign:"center",padding:"2px",fontWeight:"bold",fontSize:"90%"}).appendTo(f);c.settings.dayIndex>-1?k.attr("colSpan",5).html(c.settings.monthNames[c.internal.currentMonth-
1]+" "+c.internal.currentYear):k.html(c.internal.currentYear);k=g("<td></td>").css({textAlign:"center",padding:"2px",cursor:"pointer"}).bind("click"+y,function(r){if(c.settings.dayIndex>-1){c.internal.currentMonth++;if(c.internal.currentMonth>12){c.internal.currentMonth=1;c.internal.currentYear<9999&&c.internal.currentYear++}}else c.internal.currentYear++;j(c);r.stopPropagation();return false}).appendTo(f);g("<div></div>").addClass(c.settings.nextButtonCssClass).html("&gt;").appendTo(k);n.append(f);
if(c.settings.dayIndex>-1){f=g("<tr></tr>");for(var a=0;a<c.settings.dayNames.length;a++)k=g("<td></td>").html(c.settings.dayNames[a]).css({textAlign:"center",padding:"2px",fontWeight:"bold",borderBottomWidth:"1px",borderBottomStyle:"solid",fontSize:"90%",width:"14%",borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"border-bottom-color","borderBottomColor","#999")}).appendTo(f);n.append(f);a=new Date(c.internal.currentYear,c.internal.currentMonth-1,1);f=g("<tr></tr>");
for(var b=0,h=5;b<a.getDay();){k=g("<td></td>").html("&nbsp;").css({fontSize:"90%",padding:"2px",textAlign:"center",width:"14%"}).appendTo(f);b++}var m=31;if(c.internal.currentMonth==2)m=!isNaN(c.internal.currentYear)&&c.internal.currentYear>-1&&(c.internal.currentYear%4===0&&c.internal.currentYear%100!==0||c.internal.currentYear%400===0)?29:28;else if(c.internal.currentMonth==4||c.internal.currentMonth==6||c.internal.currentMonth==9||c.internal.currentMonth==11)m=30;var q=-1;if(c.internal.currentMonth==
c.internal.currentDate.getMonth()+1&&c.internal.currentYear==c.internal.currentDate.getFullYear())q=c.internal.currentDate.getDate();for(a=1;a<=m;a++){b++;k=g("<td></td>").html(a).css({textAlign:"center",padding:"2px",fontSize:"90%",cursor:"pointer",width:"14%"}).bind("click"+y,g.telligent.glow.utility.makeBoundFunction(e,null,[c,a])).bind("mouseover"+y,function(r){g(r.target).css({color:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"background-color","backgroundColor","#fff"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,
"color","color","#000")})}).bind("mouseout"+y,function(r){g(r.target).css({color:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"background-color","backgroundColor","#fff")})});a==q&&k.css({padding:"1px",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",
borderTopColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000"),borderLeftColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000"),borderRightColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000"),borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000")});f.append(k);if(b==7){b=0;n.append(f);f=g("<tr></tr>");h--}}for(;b<7;){k=g("<td></td>").html("&nbsp;").css({fontSize:"90%",
padding:"2px",textAlign:"center",width:"14%"}).appendTo(f);b++}for(n.append(f);h>0;){h--;f=g("<tr></tr>");for(a=0;a<7;a++)k=g("<td></td>").html("&nbsp;").css({fontSize:"90%",padding:"2px",textAlign:"center",width:"14%"}).appendTo(f);n.append(f)}}else{b=-1;if(c.internal.currentYear==c.internal.currentDate.getFullYear())b=c.internal.currentDate.getMonth();for(a=0;a<12;a++){if(a%3==0){f=g("<tr></tr>");n.append(f)}k=g("<td></td>").html(c.settings.monthNames[a]).css({textAlign:"center",padding:"2px",fontSize:"90%",
cursor:"pointer",width:"14%"}).bind("click"+y,g.telligent.glow.utility.makeBoundFunction(e,null,[c,a])).bind("mouseover"+y,function(r){g(r.target).css({color:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"background-color","backgroundColor","#fff"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000")})}).bind("mouseout"+y,function(r){g(r.target).css({color:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color",
"#000"),backgroundColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"background-color","backgroundColor","#fff")})});a==b&&k.css({padding:"1px",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderTopColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000"),borderLeftColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,
"color","color","#000"),borderRightColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000"),borderBottomColor:g.telligent.glow.utility.getCurrentStyleValue(c.internal.state,"color","color","#000")});f.append(k)}}c.internal.popupPanel.glowPopUpPanel("append",d)}},e=function(c,d){if(c){var n=x.val.apply(c.internal.state);if(n===null)n=new Date;n=c.settings.dayIndex>-1?new Date(c.internal.currentYear,c.internal.currentMonth-1,d,n.getHours(),n.getMinutes(),n.getSeconds(),
n.getMilliseconds()):new Date(c.internal.currentYear,d,n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());var f=x.val.apply(c.internal.state);if(!f||f.getTime()!=n.getTime()){x.val.apply(c.internal.state,[n]);c.internal.state.trigger("glowDateTimeSelectorChange")}c.internal.popupPanel.glowPopUpPanel("hide")}};g.fn.glowDateTimeSelector=function(c){if(c in x)return x[c].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof c==="object"||!c)return v.apply(this,arguments);
else g.error("Method "+c+" does not exist on jQuery.fn.glowDateTimeSelector")};g.extend(g.fn.glowDateTimeSelector,{defaults:{pattern:"",yearIndex:-1,monthIndex:-1,dayIndex:-1,hourIndex:-1,minuteIndex:-1,amPmIndex:-1,showPopup:true,allowBlankvalue:true,monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],calendarButtonCssClass:"",previousButtonCssClass:"",nextButtonCssClass:"",calendarButtonText:"Select...",calendarButtonImageUrl:null}})})(jQuery,
window);
(function(g){var t=function(x){var w=x.data("_delayedEnterLeaveContextKey");if(w===null||typeof w==="undefined"){w={enterTimeout:null,leaveTimeout:null};x.data("_delayedEnterLeaveContextKey",w)}return w};g.extend(g.event.special,{glowDelayedMouseEnter:{add:function(x){var w=x.data||500,y=function(p){var o=g(this),l=t(o),j=g.extend({},p);l.enterTimeout=setTimeout(function(){j.type="glowDelayedMouseEnter";o.trigger(g.Event("glowDelayedMouseEnter",j));clearTimeout(l.enterTimeout)},w)},v=function(){var p=t(g(this));
clearTimeout(p.enterTimeout)};x.selector?g(document).on("mouseenter",x.selector,y).on("mouseleave",x.selector,v):g(this).on("mouseenter",y).on("mouseleave",v)}},glowDelayedMouseLeave:{add:function(x){var w=x.data||500,y=function(p){var o=g(this),l=t(o),j=g.extend({},p);l.leaveTimeout=setTimeout(function(){j.type="glowDelayedMouseLeave";o.trigger(g.Event("glowDelayedMouseLeave",j));clearTimeout(l.leaveTimeout)},w)},v=function(){var p=t(g(this));clearTimeout(p.leaveTimeout)};x.selector?g(document).on("mouseleave",
x.selector,y).on("mouseenter",x.selector,v):g(this).on("mouseleave",y).on("mouseenter",v)}}})})(jQuery);
(function(g){var t,x={val:function(e){if(e===undefined){var c=this.data("dropDownList");if(c&&c.internal.state&&c.internal.initialized&&c.internal.state.selectedIndex>=0&&c.internal.state.selectedIndex<c.internal.state.options.length)return c.internal.state.options[c.internal.state.selectedIndex].value;return""}else return this.each(function(){var d=g(this).data("dropDownList");if(d.internal.state&&d.internal.initialized){for(var n=0;n<d.internal.state.options.length;n++)if(d.internal.state.options[n].value==
e){x.selectedIndex.apply(g(d.internal.state),[n]);return}x.selectedIndex.apply(g(d.internal.state),[0])}})},selectedIndex:function(e,c){if(e===undefined){var d=this.data("dropDownList");if(d&&d.internal.state&&d.internal.initialized)return d.internal.state.selectedIndex;return-1}else return this.each(function(){var n=g(this).data("dropDownList");if(n.internal.state&&n.internal.initialized&&e>=0&&e<n.internal.items.length&&e<n.internal.state.options.length){var f=n.internal.state.selectedIndex!=e;
n.internal.state.selectedIndex=e;n.internal.selectedItem.innerHTML=n.settings.showHtmlWhenSelected?n.internal.items[e].html:n.internal.state.options[e].innerHTML;if(f&&c){n.internal.popupPanel&&n.internal.popupPanel.glowPopUpPanel("hide");g(n.internal.state).trigger("change")}}})},getText:function(){var e=this.data("dropDownList");if(e&&e.internal.state&&e.internal.initialized&&e.internal.state.selectedIndex>=0&&e.internal.state.selectedIndex<e.internal.items.length)return e.internal.items[e.internal.state.selectedIndex].html;
return""},disabled:function(e){if(e===undefined){var c=this.data("dropDownList");if(c)return c.internal.state.readonly}else return this.each(function(){var d=g(this).data("dropDownList");if(e){d.internal.button.style.cursor="default";d.internal.button.onclick=null;d.internal.button.style.backgroundImage="none";d.internal.button.style.backgroundColor=d.internal.backgroundColor;d.internal.selectedItem.style.borderColor=d.internal.backgroundColor;d.internal.state.readonly=true}else{d.internal.button.style.cursor=
"pointer";d.internal.button.onclick=function(){v(d)};if(d.settings.buttonImageUrl)d.internal.button.style.backgroundImage="url('"+d.settings.buttonImageUrl+"')";d.internal.button.style.backgroundColor="#cccccc";d.internal.selectedItem.style.borderColor="#999999";d.internal.state.readonly=false}})},refresh:function(){return this.each(function(){var e=g(this).data("dropDownList");if(e.internal.initialized){for(var c=x.val.apply(g(e.internal.state),[]);e.internal.state.childNodes.length>0;)e.internal.state.removeChild(e.internal.state.childNodes[0]);
for(;e.internal.itemsContainer.childNodes.length>0;)e.internal.itemsContainer.removeChild(e.internal.itemsContainer.childNodes[0]);for(var d=-1,n=0;n<e.internal.items.length;n++){var f=document.createElement("div");f.onmouseover=g.telligent.glow.utility.makeBoundFunction(o,null,[e,n]);f.onclick=g.telligent.glow.utility.makeBoundFunction(x.selectedIndex,g(e.internal.state),[n,true]);f.style.padding="2px";f.style.cursor="pointer";f.style.borderStyle="dotted";f.style.borderWidth="1px";f.style.borderColor=
e.internal.backgroundColor;f.innerHTML=e.internal.items[n].html;e.internal.itemsContainer.appendChild(f);f=document.createElement("option");f.value=e.internal.items[n].value;f.innerHTML=e.internal.items[n].text;e.internal.state.appendChild(f);if(e.internal.items[n].value==c)d=n}if(d>=0){e.internal.state.selectedIndex=d;e.internal.selectedItem.innerHTML=e.settings.showHtmlWhenSelected?e.internal.items[d].html:e.internal.state.options[d].innerHTML}else{e.internal.selectedItem.innerHTML="&nbsp;";x.selectedIndex.apply(g(e.internal.state),
[0])}e.internal.highlightedItemIndex=-1}})},add:function(e){if(!e)return this;x.remove.apply(this,[e]);var c=true;return this.each(function(){if(c)c=false;else e=e._clone();var d=g(this).data("dropDownList");d.internal.items[d.internal.items.length]=e})},remove:function(e){if(!e)return this;return this.each(function(){for(var c=g(this).data("dropDownList"),d=[],n=false,f=0;f<c.internal.items.length;f++)if(c.internal.items[f].value==e.value)n=true;else d[d.length]=c.internal.items[f];if(n)c.internal.items=
d})},clear:function(){return this.each(function(){g(this).data("dropDownList").internal.items=[]})},insert:function(e,c){if(!e)return this;var d=true;return this.each(function(){if(d)d=false;else e=e._clone();var n=g(this).data("dropDownList");x.remove.apply(g(n.internal.state),[e]);for(var f=[],k=false,a=0;a<n.internal.items.length;a++){if(a==c){k=true;f[f.length]=e}f[f.length]=n.internal.items[a]}k||(f[f.length]=e);n.internal.items=f})},getByIndex:function(e){var c=this.data("dropDownList");if(c&&
e>=0&&e<c.internal.items.length)return c.internal.items[e];return null},count:function(){var e=this.data("dropDownList");if(e)return e.internal.items.length},createItem:function(e){return new j(e)}},w=function(e){return this.each(function(){var c={settings:g.extend({},g.fn.glowDropDownList.defaults,e||{}),internal:{state:this,highlightedItemIndex:-1,button:null,items:null,popupPanel:null,selectedItem:null,backgroundColor:null,itemsContainer:null,initialized:false}};c.internal.items=[];for(var d=0;d<
c.internal.state.options.length;d++)c.internal.items[c.internal.items.length]=d<c.settings.itemsHtml.length?new j({value:c.internal.state.options[d].value,text:c.internal.state.options[d].text,html:c.settings.itemsHtml[d]}):new j({value:c.internal.state.options[d].value,text:c.internal.state.options[d].text,html:c.internal.state.options[d].text});g(this).data("dropDownList",c);y(c)})},y=function(e){if(e.internal.state.offsetHeight){if(e.internal.state.disabled){e.internal.state.disabled=false;e.internal.state.readonly=
true}e.internal.button=document.createElement("span");e.internal.button.className=e.settings.className;e.internal.button.style.borderStyle="outset";e.internal.button.style.borderWidth="1px";e.internal.button.style.borderColor="#999999";try{e.internal.button.style.display="inline-table"}catch(c){}try{e.internal.button.style.display="-moz-inline-box"}catch(d){}try{e.internal.button.style.display="inline-block"}catch(n){}e.internal.button.style.paddingRight="16px";e.internal.button.style.backgroundRepeat=
"no-repeat";e.internal.button.style.backgroundPosition="right center";e.internal.button.style.marginLeft=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"margin-left","marginLeft","1px;");e.internal.button.style.marginTop=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"margin-top","marginTop","1px;");e.internal.button.style.marginRight=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"margin-right","marginRight","1px;");e.internal.button.style.marginBottom=
g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"margin-bottom","marginBottom","1px;");e.internal.state.parentNode.insertBefore(e.internal.button,e.internal.state);e.internal.backgroundColor=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"background-color","backgroundColor","#ffffff");if(e.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!="")e.internal.backgroundColor="#ffffff";e.internal.selectedItem=document.createElement("span");e.internal.selectedItem.style.backgroundColor=
e.internal.backgroundColor;e.internal.selectedItem.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"font-family","fontFamily","Arial, Helvetica");e.internal.selectedItem.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"font-size","fontSize","100%");e.internal.selectedItem.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"line-height","lineHeight","100%");e.internal.selectedItem.style.color=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,
"color","color","#000000");e.internal.selectedItem.style.borderStyle="outset";e.internal.selectedItem.style.borderWidth="0px";e.internal.selectedItem.style.borderRightWidth="1px";e.internal.selectedItem.style.padding="2px";try{e.internal.selectedItem.style.display="inline-table"}catch(f){}try{e.internal.selectedItem.style.display="-moz-inline-box"}catch(k){}try{e.internal.selectedItem.style.display="inline-block"}catch(a){}e.internal.selectedItem.style.width=e.settings.selectedItemWidth<=23?e.internal.state.offsetWidth-
23+"px":e.settings.selectedItemWidth-23+"px";e.internal.selectedItem.style.height=e.settings.selectedItemHeight<=4?e.internal.state.offsetHeight-4+"px":e.settings.selectedItemHeight-4+"px";e.internal.selectedItem.style.overflow="hidden";e.internal.button.appendChild(e.internal.selectedItem);var b=document.createElement("div");e.internal.state.parentNode.insertBefore(b,e.internal.state);t=e.internal.popupPanel=g(b).glowPopUpPanel({cssClass:e.settings.className+" options",position:"updown",zIndex:20050,
hideOnDocumentClick:true});e.internal.popupPanel.glowPopUpPanel("empty");e.internal.itemsContainer=document.createElement("div");e.internal.itemsContainer.style.borderStyle="outset";e.internal.itemsContainer.style.borderWidth="1px";e.internal.itemsContainer.style.borderColor="#999999";e.internal.itemsContainer.style.height=e.settings.itemsHeight<=4?g.telligent.glow.utility.getWindowInfo().Height/4+24+"px":e.settings.itemsHeight-4+"px";e.internal.itemsContainer.style.width=e.settings.itemsWidth<=4?
e.internal.state.offsetWidth-4+"px":e.settings.itemsWidth-4+"px";e.internal.itemsContainer.style.overflow="auto";e.internal.itemsContainer.style.overflowX="hidden";e.internal.itemsContainer.style.padding="1px";e.internal.itemsContainer.style.backgroundColor=e.internal.backgroundColor;e.internal.itemsContainer.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"font-family","fontFamily","Arial, Helvetica");e.internal.itemsContainer.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,
"font-size","fontSize","100%");e.internal.itemsContainer.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"line-height","lineHeight","100%");e.internal.itemsContainer.style.color=g.telligent.glow.utility.getCurrentStyleValue(e.internal.state,"color","color","#000000");e.internal.popupPanel.glowPopUpPanel("append",e.internal.itemsContainer);x.disabled.apply(g(e.internal.state),[e.internal.state.readonly==true]);e.internal.state.style.display="none";e.internal.initialized=
true;x.refresh.apply(g(e.internal.state),[])}else window.setTimeout(function(){y(e)},249)},v=function(e){if(e.internal.popupPanel.glowPopUpPanel("isShown"))e.internal.popupPanel.glowPopUpPanel("hide");else if(g.telligent.glow.utility.isSafari()){t&&t.glowPopUpPanel("hide");t=e.internal.popupPanel.glowPopUpPanel("show",e.internal.button);e.internal.state.selectedIndex>=0&&l(e,e.internal.state.selectedIndex)}else{e.internal.itemsContainer.style.overflow="hidden";t&&t.glowPopUpPanel("hide");t=e.internal.popupPanel.glowPopUpPanel("show",
e.internal.button);window.setTimeout(function(){p(e)},49)}},p=function(e){if(e.internal.popupPanel.glowPopUpPanel("isOpening"))window.setTimeout(function(){p()},49);else{try{e.internal.itemsContainer.style.overflow="auto";e.internal.itemsContainer.style.overflowX="hidden"}catch(c){}e.internal.state.selectedIndex>=0&&l(e,e.internal.state.selectedIndex)}},o=function(e,c){l(e,c)},l=function(e,c){var d=e.internal.itemsContainer.childNodes[c];d.style.backgroundColor="#cccccc";d.style.borderColor="#666666";
d.className="selected";if(d.offsetTop+d.offsetHeight>e.internal.itemsContainer.scrollTop+e.internal.itemsContainer.offsetHeight)e.internal.itemsContainer.scrollTop=d.offsetTop+d.offsetHeight-e.internal.itemsContainer.offsetHeight;else if(d.offsetTop<e.internal.itemsContainer.scrollTop)e.internal.itemsContainer.scrollTop=d.offsetTop;if(e.internal.highlightedItemIndex>=0&&e.internal.highlightedItemIndex!=c){d=e.internal.itemsContainer.childNodes[e.internal.highlightedItemIndex];d.style.backgroundColor=
e.internal.backgroundColor;d.style.borderColor=e.internal.backgroundColor;d.className=""}e.internal.highlightedItemIndex=c};g.fn.glowDropDownList=function(e){if(e in x)return x[e].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof e==="object"||!e)return w.apply(this,arguments);else g.error("Method "+e+" does not exist on jQuery.fn.glowDropDownList")};g.extend(g.fn.glowDropDownList,{defaults:{selectedItemWidth:200,selectedItemHeight:32,itemsWidth:200,itemsHeight:300,itemsHtml:[],showHtmlWhenSelected:true,
buttonImageUrl:"button.gif",className:""}});var j=function(e){var c={value:"",text:"",html:e.text};e&&g.extend(c,e);this.text=c.text;this.value=c.value;this.html=c.html};j.prototype._clone=function(){return new j({value:this.value,text:this.text,html:this.html})}})(jQuery);
(function(g,t){var x={val:function(){var c=g(this).data(w);return c!==null&&typeof c.file!=="undefined"&&c.file!==null?{name:c.file.name}:null},destroy:function(){return this.each(function(){var c=g(this).data(w);c!==null&&c.pluploader&&c.pluploader.destroy()})}},w="_glowUpload",y={begun:"glowUploadBegun",complete:"glowUploadComplete",error:"glowUploadError",progress:"glowUploadFileProgress",allComplete:"glowUploadsComplete"},v=function(c){return this.each(function(){var d=g(this),n=g.extend({},g.fn.glowUpload.defaults,
c||{},{pluploader:null,file:null,fileOffset:0,fileState:"",isUploading:false,currentUploadPercent:0,fileContainer:null});g.extend(n,{container:d,initialized:false});g(this).data(w,n);n.container.find('input[type="file"]').bind("change",function(){n.container.trigger(y.begun).trigger(y.complete)}).hide();n.renderMode!="link"&&n.renderMode!="dragdrop"&&g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:n.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#eee",
textAlign:"center",padding:".25em"}).append(g('<input type="Button" value="Loading..." />').attr("disabled","disabled").css({borderColor:"Transparent",backgroundColor:"Transparent"})).appendTo(n.container);p(n)})},p=function(c){for(var d=["1234567890","0987654321","0192837465","5647382910"],n=[],f=0;f<2500;f++)n[n.length]=d[Math.floor(Math.random()*d.length)];var k=(new Date).getTime();jQuery.ajax({type:"POST",url:c.uploadUrl,data:{test:n.join("")},success:function(){var a=(new Date).getTime();o(c,
2E5/((a-k)/1E3)*45)},error:function(){o(c,1E6)}})},o=function(c,d){if(/Mozilla[^\(]*\(.*? rv:([0-9]+)\.([0-9]+)\.([0-9]+)/.test(navigator.userAgent))if(parseInt(RegExp.$1,10)<1||parseInt(RegExp.$2,10)<9||parseInt(RegExp.$3,10)<2)c.runtimes=c.runtimes.replace(/,?flash/i,"");c.file={name:c.initialFileName,id:"preuploaded"};if(c.file.name&&c.file.name.length>0)c.fileState="uploaded";var n="15mb";if(d<15E6){n=Math.floor(d);if(n<1E6)n=1E6;n=Math.floor(d/1E6)+"mb"}c.container.attr("id")||c.container.attr("id",
"upload"+(new Date).getTime());n={runtimes:c.runtimes,container:c.container.attr("id"),url:c.uploadUrl,flash_swf_url:c.swfUrl,silverlight_xap_url:c.silverlightUrl,chunk_size:n,multi_selection:false,drop_element:c.container.attr("id"),browse_button:c.container.attr("id"),filters:{max_file_size:c.maxFileSize}};if(c.fileFilter!==null)n.filters.mime_types=c.fileFilter;if(c.renderMode=="link"||c.renderMode=="dragdrop")n.container=document.body;c.pluploader=new plupload.Uploader(n);c.pluploader.bind("Init",
function(){if(!c.hasInited){c.hasInited=true;if(c.renderMode!="link"&&c.renderMode!="dragdrop"){c.container.children(":not(.moxie-shim)").remove();c.container.addClass("glow-upload");var f=g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:c.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#fff"}).appendTo(c.container),k=g("<table></table>").attr("border",0).attr("cellSpacing",0).attr("cellPadding",0).css({width:"100%"}),a=g("<tbody></tbody>").appendTo(k);
a=g("<tr></tr>").appendTo(a);c.fileContainer=g("<td></td>").appendTo(a).css({width:"100%"});a=g("<td></td>").css({backgroundColor:"#eee",borderLeftWidth:"1px",borderLeftStyle:"solid",borderLeftColor:"#999",padding:".25em"}).attr("vAlign","top").appendTo(a);g('<input type="Button" value="'+c.selectFileLabel+'" id="'+c.container.attr("id")+'_browseButton" />').appendTo(a);f.append(k);l(c);c.pluploader.setOption("browse_button",c.container.attr("id")+"_browseButton")}else if(c.renderMode=="link")c.pluploader.setOption("browse_button",
c.container.attr("id"));else{f=g("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",height:"1px",width:"1px",overflow:"hidden"}).attr("id",c.container.attr("id")+"_browseButton");c.container.append(f);c.pluploader.setOption("browse_button",f.attr("id"))}c.initialized=true}});c.pluploader.bind("FilesAdded",function(f,k){c.addedFiles=k});c.pluploader.bind("QueueChanged",function(){j(c)});c.pluploader.bind("UploadProgress",function(f,k){if(!(!k||!c.file||k.id!=c.file.id))if(k.status==
plupload.UPLOADING){if(!c.isUploading){var a=!c.isUploading;c.isUploading=true;c.currentUploadPercent=0;l(c);a&&c.container.trigger(y.begun)}c.currentUploadPercent=k.percent;l(c);c.container.trigger(y.progress,{name:k.name,percent:k.percent})}else if(k.status==plupload.FAILED){c.isUploading=false;c.fileState="error";l(c);c.container.trigger("glowUploadError")}});c.pluploader.bind("FileUploaded",function(f,k){c.fileState="uploaded";l(c);c.container.trigger(y.complete,{name:k.name})});c.pluploader.bind("Error",
function(f,k){e(c,k)});c.pluploader.bind("StateChanged",function(){c.pluploader.state==plupload.STOPPED&&c.file!=null&&c.container.trigger(y.allComplete)});t.setTimeout(function(){c.pluploader.init()},9)},l=function(c){if(c.renderMode!="link"&&c.renderMode!="dragdrop"){var d="";if(c.file)d=c.fileState==="uploaded"?c.uploadedFormat.replace("{0}",c.file.name):c.fileState==="error"?c.errorFormat.replace("{0}",c.file.name):c.isUploading?c.uploadingFormat.replace("{0}",c.file.name).replace("{1}",c.currentUploadPercent):
c.toUploadFormat.replace("{0}",c.file.name);c.fileContainer.html(d)}},j=function(c){if(c.addedFiles){var d=c.addedFiles;c.addedFiles=null;if(d.length!==0){if(c.file){c.isUploading&&c.pluploader.stop();var n=c.file.id;t.setTimeout(function(){if(c.pluploader&&n!="preuploaded")try{c.pluploader.removeFile(c.pluploader.getFile(n))}catch(f){}},99)}c.file=d[0];c.fileState="";l(c);c.file&&c.pluploader.start()}}},e=function(c,d){if(!c.initialized){var n=c.notSupportedMessage;if(!n){var f=[];c.runtimes.indexOf("html5")>
-1&&f.push("An HTML5 capable browser");if(c.runtimes.indexOf("silverlight")>-1)c.renderMode=="link"||c.renderMode=="dragdrop"?f.push("Silverlight"):f.push('<a href="http://microsoft.com/getsilverlight/" target="_blank">Silverlight</a>');if(c.runtimes.indexOf("flash")>-1)c.renderMode=="link"||c.renderMode=="dragdrop"?f.push("Flash"):f.push('<a href="http://get.adobe.com/flashplayer/" target="_blank">Flash</a>');if(f.length==0)n="Uploading is not supported.";else{if(f.length>1)f[f.length-1]="or "+f[f.length-
1];n=f.join(", ")+" is required to upload."}}c.container.children().hide();if(c.renderMode=="link")c.container.bind("click",function(){t.alert(n);return false});else c.renderMode!="dragdrop"&&g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:c.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#eee",textAlign:"center",padding:".25em",color:"#000"}).html(n).appendTo(c.container)}if(d.file){c.isUploading=false;c.fileState="error";l(c);c.container.trigger(y.error)}};
g.fn.glowUpload=function(c){if(c in x)return x[c].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof c==="object"||!c)return v.apply(this,arguments);else g.error("Method "+c+" does not exist on jQuery.fn.glowUpload")};g.extend(g.fn.glowUpload,{defaults:{fileFilter:null,maxFileSize:"2048mb",width:"350px",uploadUrl:"/",swfUrl:"plupload.flash.swf",silverlightUrl:"",uploadedFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; color: #3a3; margin-left: .25em;">Uploaded</div>{0}</div>',
uploadingFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; margin-top: .25em; margin-left: .25em; border: solid 1px #999; background-color: #eee; width: 50px; height: .5em;"><div style="background-color: #7e7; width: {1}%; height: .5em;"></div></div>{0}</div>',toUploadFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; padding: .25em;">{0}</div>',errorFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; color: #f00; margin-left: .25em;">Error</div>{0}</div>',
runtimes:"html5,flash",renderMode:"default",initialFileName:"",selectFileLabel:"Browse..."}})})(jQuery,window);
(function(g){var t={disabled:function(a){if(a===undefined){var b=this.data("lookUpTextBox");if(b)return b.internal.state.readonly}else return this.each(function(){var h=g(this).data("lookUpTextBox");if(a){h.internal.cursor.style.visibility="hidden";h.internal.container.style.cursor="default";h.internal.container.onclick=null;h.internal.state.readonly=true;h.internal.emptyHtmlContainer.style.visibility="hidden"}else{h.internal.cursor.style.visibility="visible";h.internal.container.style.cursor="text";
h.internal.container.onclick=function(m){_containerClick(h,m)};h.internal.state.readonly=false;h.internal.emptyHtmlContainer.style.visibility="visible"}l(h)})},updateSuggestions:function(a){return this.each(function(){var b=g(this).data("lookUpTextBox");b.internal.lookUps=[];if(a)for(var h=0;h<a.length;h++)b.internal.lookUps[h]=a[h];b.internal.lookUpsIndex=-1;o(b)})},removeByIndex:function(a){return this.each(function(){var b=g(this).data("lookUpTextBox");if(a>=0&&a<b.internal.selectedLookUps.length){for(var h=
[],m=0;m<b.internal.selectedLookUps.length;m++)if(m!=a)h[h.length]=b.internal.selectedLookUps[m];b.internal.selectedLookUps=h;l(b);_save(b)}})},removeByValue:function(a){return this.each(function(){for(var b=g(this).data("lookUpTextBox"),h=[],m=false,q=0;q<b.internal.selectedLookUps.length;q++)if(b.internal.selectedLookUps[q].Value!=a)h[h.length]=b.internal.selectedLookUps[q];else m=true;if(m){b.internal.selectedLookUps=h;l(b);_save(b)}})},add:function(a){return this.each(function(){if(a!=null&&a.SelectedHtml){var b=
g(this).data("lookUpTextBox");b.internal.selectedLookUps[b.internal.selectedLookUps.length]=a;l(b);_save(b)}})},getByIndex:function(a){var b=this.data("lookUpTextBox");if(b&&a>=0&&a<b.internal.selectedLookUps.length)return b.internal.selectedLookUps[a];return null},count:function(){var a=this.data("lookUpTextBox");return a?a.internal.selectedLookUps.length:0},getCurrentSearchText:function(){var a=this.data("lookUpTextBox");return a?a.internal.lastCursorValue:""},createLookUp:function(a,b,h,m){var q=
{};q.Value=a;q.SelectedHtml=b;q.SuggestedHtml=h;q.Selectable=m;return q}},x=function(a){return this.each(function(){var b={settings:g.extend({},g.fn.glowLookUpTextBox.defaults,a||{}),internal:{state:this,cursorContainer:null,cursor:null,cursorText:null,lookUpsContainer:null,lookUpsIndex:null,lookUpsIndex:-1,popupPanel:null,lookUps:[],lastCursorValue:"",selectedLookUps:[],mouseIsOverPopup:false,emptyHtmlContainer:null,cursorHasFocus:false,cursorChangeHandler:null,height:18,backgroundColor:"#ffffff",
lineHeight:"100%",initialized:false}};g(this).data("lookUpTextBox",b);w(b)})},w=function(a){if(a.internal.state.offsetHeight){if(a.internal.state.disabled){a.internal.state.disabled=false;a.internal.state.readonly=true}a.internal.backgroundColor=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"background-color","backgroundColor","#ffffff");a.internal.height=a.internal.state.offsetHeight-(parseInt(g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"padding-top","paddingTop",
"0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"padding-bottom","paddingBottom","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"border-top-width","borderTopWidth","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"border-bottom-width","borderBottomWidth","0px"),10));if(a.internal.height<=0)a.internal.height=18;a.internal.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,
"line-height","lineHeight","100%");a.internal.container=document.createElement("div");a.internal.container.className="glow-lookuptextbox";a.internal.container.style.width=a.internal.state.offsetWidth-(parseInt(g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"padding-left","paddingLeft","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"padding-right","paddingRight","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"border-left-width",
"borderLeftWidth","0px"),10)+parseInt(g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"border-right-width","borderRightWidth","0px"),10))+"px";a.internal.container.style.backgroundColor=a.internal.backgroundColor;a.internal.container.style.color=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"color","color","#000000");a.internal.container.style.borderStyle="solid";a.internal.container.style.borderWidth="1px";a.internal.container.style.borderColor="#999999";a.internal.container.style.padding=
"2px";a.internal.container.style.display="block";a.internal.container.style.overflow="hidden";a.internal.state.parentNode.insertBefore(a.internal.container,a.internal.state);a.internal.cursorContainer=document.createElement("div");a.internal.cursorContainer.style.cssFloat="left";a.internal.cursorContainer.style.styleFloat="left";a.internal.cursorContainer.style.backgroundColor=a.internal.backgroundColor;a.internal.cursorContainer.style.borderWidth="0px";a.internal.cursorContainer.style.padding="1px 5px 5px 5px";
a.internal.cursorContainer.style.overflow="hidden";a.internal.cursorContainer.style.width="auto";a.internal.cursorContainer.style.minWidth="20px";a.internal.cursorContainer.style.position="relative";a.internal.cursorContainer.style.height=a.internal.height+"px";a.internal.cursorContainer.style.lineHeight=a.internal.lineHeight;try{a.internal.cursorContainer.style.boxSizing="content-box"}catch(b){}a.internal.emptyHtmlContainer=document.createElement("div");a.internal.emptyHtmlContainer.style.position=
"absolute";a.internal.emptyHtmlContainer.style.top="3px";a.internal.emptyHtmlContainer.style.left="3px";a.internal.emptyHtmlContainer.innerHTML=a.settings.emptyHtml;a.internal.cursorContainer.appendChild(a.internal.emptyHtmlContainer);a.internal.cursor=document.createElement("input");a.internal.cursor.type="text";a.internal.cursor.style.backgroundColor=a.internal.backgroundColor;a.internal.cursor.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-family","fontFamily",
"Arial, Helvetica");a.internal.cursor.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-size","fontSize","100%");a.internal.cursor.style.lineHeight=a.internal.lineHeight;a.internal.cursor.style.color=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"color","color","#000000");a.internal.cursor.style.borderWidth="0px";a.internal.cursor.style.padding="0px";a.internal.cursor.style.height=a.internal.height+"px";a.internal.cursor.style.width="100%";a.internal.cursor.onkeydown=
function(u){return _cursorKeyDown(a,u)};a.internal.cursor.onkeyup=function(u){return f(a,u)};a.internal.cursor.onchange=function(u){return f(a,u)};a.internal.cursor.onpaste=function(u){return f(a,u)};a.internal.cursor.onblur=function(u){return _cursorBlur(a,u)};a.internal.cursor.onclick=function(u){return _containerClick(a,u)};a.internal.cursor.onfocus=function(u){return _cursorFocus(a,u)};a.internal.cursor.tabIndex=a.internal.state.tabIndex;try{a.internal.cursor.style.boxSizing="content-box"}catch(h){}a.internal.cursorContainer.appendChild(a.internal.cursor);
if(a.internal.state.id){var m=g('label[for="'+a.internal.state.id+'"]');if(m.length>0){a.internal.cursor.id=a.internal.state.id+"_"+(new Date).getTime();m.each(function(){g(this).attr("for",a.internal.cursor.id)})}}a.internal.container.appendChild(a.internal.cursorContainer);m=document.createElement("div");m.style.clear="both";a.internal.container.appendChild(m);m=document.createElement("div");a.internal.container.appendChild(m);a.internal.popupPanel=g(m);a.internal.popupPanel.glowPopUpPanel({cssClass:"",
position:"updown",zIndex:3E5,hideOnDocumentClick:true}).bind({glowPopUpPanelHidden:function(){a.internal.mouseIsOverPopup=false},glowPopUpPanelMouseOver:function(){_popupMouseOver(a)},glowPopUpPanelMouseOut:function(){_popupMouseOut(a)}});a.internal.popupPanel.glowPopUpPanel("empty");a.internal.lookUpsContainer=document.createElement("div");a.internal.lookUpsContainer.style.borderStyle="outset";a.internal.lookUpsContainer.style.borderWidth="1px";a.internal.lookUpsContainer.style.borderColor="#999999";
a.internal.lookUpsContainer.style.height=a.settings.lookUpPopUpHeight+"px";a.internal.lookUpsContainer.style.width=a.internal.state.offsetWidth-4+"px";a.internal.lookUpsContainer.style.overflow="auto";a.internal.lookUpsContainer.style.overflowX="hidden";a.internal.lookUpsContainer.style.padding="1px";a.internal.lookUpsContainer.style.backgroundColor=a.internal.backgroundColor;a.internal.lookUpsContainer.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-family",
"fontFamily","Arial, Helvetica");a.internal.lookUpsContainer.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-size","fontSize","100%");a.internal.lookUpsContainer.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"line-height","lineHeight","100%");a.internal.lookUpsContainer.style.color=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"color","color","#000000");try{a.internal.lookUpsContainer.style.boxSizing="content-box"}catch(q){}a.internal.popupPanel.glowPopUpPanel("append",
a.internal.lookUpsContainer);try{a.internal.state.type="hidden"}catch(r){}a.internal.state.style.display="none";m=a.internal.state.value.split(a.settings.delimiter);if(m.length==a.settings.selectedLookUpsHtml.length){a.internal.selectedLookUps=[];for(var s=0;s<m.length;s++)a.internal.selectedLookUps[a.internal.selectedLookUps.length]=t.createLookUp(m[s],a.settings.selectedLookUpsHtml[s],a.settings.selectedLookUpsHtml[s],true)}a.internal.initialized=true;o(a);t.disabled.apply(g(a.internal.state),[a.internal.state.readonly===
true])}else window.setTimeout(function(){w(a)},249)},y=function(a){a.internal.lookUpsContainer.style.overflow="hidden";a.internal.lookUpsContainer.style.height=a.settings.lookUpPopUpHeight+"px";a.internal.popupPanel.glowPopUpPanel("show",a.internal.container,a.internal.popupPanel.glowPopUpPanel("isShown"));window.setTimeout(function(){p(a)},49)},v=function(a){a.internal.popupPanel&&a.internal.popupPanel.glowPopUpPanel("isShown")&&a.internal.popupPanel.glowPopUpPanel("hide")},p=function(a){if(a.internal.popupPanel.glowPopUpPanel("isOpening"))window.setTimeout(function(){p(a)},
49);else{try{a.internal.lookUpsContainer.style.overflow="auto";a.internal.lookUpsContainer.style.overflowX="hidden"}catch(b){}a.internal.state.selectedIndex>=0&&_highlightItem(a,a.internal.state.selectedIndex)}},o=function(a){if(a&&a.internal.initialized){for(;a.internal.lookUpsContainer.childNodes.length>0;)a.internal.lookUpsContainer.removeChild(a.internal.lookUpsContainer.childNodes[0]);if(a.internal.lookUps.length>0){for(var b=a.internal.lookUpsIndex,h=0;h<a.internal.lookUps.length;h++){var m=
document.createElement("div");m.onmouseover=g.telligent.glow.utility.makeBoundFunction(c,null,[a,h]);m.onclick=g.telligent.glow.utility.makeBoundFunction(d,null,[a,h]);m.style.padding="2px";m.style.cursor="pointer";m.style.borderStyle="dotted";m.style.borderWidth="1px";m.style.borderColor=a.internal.backgroundColor;m.innerHTML=a.internal.lookUps[h].SuggestedHtml;a.internal.lookUpsContainer.appendChild(m)}if(b<0||b>=a.internal.lookUps.length)b=0;c(a,b);y(a)}else v(a)}},l=function(a){for(;a.internal.container.childNodes.length>
3;)a.internal.container.removeChild(a.internal.container.childNodes[0]);for(var b=0;b<a.internal.selectedLookUps.length;b++){var h=document.createElement("div");h.style.padding="2px";if(a.settings.maxValues!=1){h.style.cssFloat="left";h.style.styleFloat="left"}var m=document.createElement("div");m.style.borderStyle="solid";m.style.borderColor="#bbbbbb";m.style.backgroundColor="#eeeeee";m.style.borderWidth="1px";m.style.padding="2px";m.style.paddingRight="6px";if(t.disabled.apply(g(a.internal.state)))m.style.paddingLeft=
"6px";m.style.height=a.internal.height+"px";m.style.lineHeight=a.internal.lineHeight;m.style.whiteSpace="nowrap";m.style.cursor="default";m.style.fontFamily=a.internal.cursor.style.fontFamily;m.style.fontSize=a.internal.cursor.style.fontSize;try{m.style.boxSizing="content-box"}catch(q){}if(!t.disabled.apply(g(a.internal.state)))if(a.settings.deleteImageUrl){var r=document.createElement("img");r.src=a.settings.deleteImageUrl;r.align="top";r.style.padding="4px";r.style.paddingRight="6px";r.style.cursor=
"pointer";r.onclick=g.telligent.glow.utility.makeBoundFunction(j,null,[a,b]);m.appendChild(r)}else{r=document.createElement("a");r.href="#";r.onclick=g.telligent.glow.utility.makeBoundFunction(j,null,[a,b]);r.style.textDecoration="none";r.style.color="#f00";r.style.fontWeight="bold";r.style.fontSize="80%";r.style.lineHeight=a.internal.lineHeight;r.style.marginLeft="4px";r.style.marginRight="6px";r.innerHTML="X";m.appendChild(r)}r=document.createElement("span");r.innerHTML=a.internal.selectedLookUps[b].SelectedHtml;
r.style.cursor="default";m.appendChild(r);h.appendChild(m);a.internal.container.insertBefore(h,a.internal.cursorContainer)}if(a.settings.maxValues>0&&a.settings.maxValues==a.internal.selectedLookUps.length){a.internal.container.childNodes[a.internal.container.childNodes.length-2].style.display="none";a.internal.container.childNodes[a.internal.container.childNodes.length-3].style.display="none"}else{a.internal.container.childNodes[a.internal.container.childNodes.length-2].style.display="inline";a.internal.container.childNodes[a.internal.container.childNodes.length-
3].style.display="inline"}},j=function(a,b){t.removeByIndex.apply(g(a.internal.state),[b]);g(a.internal.state).trigger("glowLookUpTextBoxChange");return false},e=function(a,b){if(a.internal.lookUps[b]&&a.internal.lookUps[b].Selectable){if(!a.settings.allowDuplicates)for(var h=0;h<a.internal.selectedLookUps.length;h++)if(a.internal.selectedLookUps[h].Value==a.internal.lookUps[b].Value)return;a.internal.selectedLookUps[a.internal.selectedLookUps.length]=t.createLookUp(a.internal.lookUps[b].Value,a.internal.lookUps[b].SelectedHtml);
a.internal.cursor.value="";v(a);l(a);_save(a);try{a.internal.cursor.focus()}catch(m){}g(a.internal.state).trigger("glowLookUpTextBoxChange")}},c=function(a,b){if(a.internal.lookUps[b]&&a.internal.lookUps[b].Selectable){var h=a.internal.lookUpsContainer.childNodes[b];h.style.backgroundColor="#cccccc";h.style.borderColor="#666666";if(h.offsetTop+h.offsetHeight>a.internal.lookUpsContainer.scrollTop+a.internal.lookUpsContainer.offsetHeight)a.internal.lookUpsContainer.scrollTop=h.offsetTop+h.offsetHeight-
a.internal.lookUpsContainer.offsetHeight;else if(h.offsetTop<a.internal.lookUpsContainer.scrollTop)a.internal.lookUpsContainer.scrollTop=h.offsetTop;if(a.internal.lookUpsIndex>=0&&a.internal.lookUpsIndex!=b){h=a.internal.lookUpsContainer.childNodes[a.internal.lookUpsIndex];h.style.backgroundColor=a.internal.backgroundColor;h.style.borderColor=a.internal.backgroundColor}a.internal.lookUpsIndex=b}},d=function(a,b){e(a,b);return false},n=function(a){if(a.internal.lastCursorValue!=a.internal.cursor.value&&
a.internal.cursor.value.length>=a.settings.minimumLookUpLength)f(a);else a.internal.cursorChangeHandler=window.setTimeout(function(){n(a)},149)},f=function(a,b){if(!b)b=window.event;if(a.internal.lastCursorValue!=a.internal.cursor.value){a.internal.cursorChangeHandler&&window.clearTimeout(a.internal.cursorChangeHandler);if(a.settings.maxValues>0&&a.internal.selectedLookUps.length>=a.settings.maxValues){window.setTimeout(function(){a.internal.cursor.value=""},19);return false}k(a)}return true},k=function(a){a.internal.lastCursorValue=
a.internal.cursor.value;if(a.internal.lastCursorValue.length>=a.settings.minimumLookUpLength)a.settings.onGetLookUps&&a.settings.onGetLookUps(g(a.internal.state),a.internal.lastCursorValue);else v(a)};_cursorFocus=function(a){a.internal.emptyHtmlContainer.style.display="none";a.internal.cursorHasFocus=true;a.internal.cursorChangeHandler=window.setTimeout(function(){n(a)},149);k(a)};_cursorBlur=function(a){a.internal.cursorChangeHandler&&clearTimeout(a.internal.cursorChangeHandler);a.internal.cursorHasFocus=
false;window.setTimeout(function(){_cursorBlurComplete(a)},99)};_cursorBlurComplete=function(a){a.internal.cursor.value="";a.internal.lastCursorValue="";a.internal.mouseIsOverPopup||v(a);if(a.internal.selectedLookUps.length==0&&!a.internal.cursorHasFocus)a.internal.emptyHtmlContainer.style.display="block"};_cursorKeyDown=function(a,b){if(!b)b=window.event;if(b.keyCode==8){if(a.internal.selectedLookUps.length>0&&g.telligent.glow.utility.getCurrentCursorIndex(a.internal.cursor)==0){t.removeByIndex.apply(g(a.internal.state),
[a.internal.selectedLookUps.length-1]);g(a.internal.state).trigger("glowLookUpTextBoxChange")}return true}else if(b.keyCode==38||b.keyCode==40||b.keyCode==13){if(b.keyCode==38){if(a.internal.popupPanel.glowPopUpPanel("isShown")&&a.internal.lookUpsIndex>0)for(var h=false,m=a.internal.lookUpsIndex-1;m>=0&&!h;m--)if(a.internal.lookUps[m].Selectable){c(a,m);h=true}}else if(b.keyCode==40){if(a.internal.popupPanel.glowPopUpPanel("isShown")&&a.internal.lookUpsIndex<a.internal.lookUps.length-1){h=false;for(m=
a.internal.lookUpsIndex+1;m<a.internal.lookUps.length&&!h;m++)if(a.internal.lookUps[m].Selectable){c(a,m);h=true}}}else if(b.keyCode==13)if(a.internal.popupPanel.glowPopUpPanel("isShown")&&a.internal.lookUpsIndex>=0)e(a,a.internal.lookUpsIndex);else{a.internal.cursor.value="";a.internal.lastCursorValue=""}b.cancelBubble=true;b.preventDefault&&b.preventDefault();b.stopProgagation&&b.stopPropagation();return false}else if(b.keyCode==9)if(a.internal.popupPanel.glowPopUpPanel("isShown")&&a.internal.lookUpsIndex>=
0)e(a,a.internal.lookUpsIndex);else{a.internal.cursor.value="";a.internal.lastCursorValue=""}else if(a.settings.maxValues>0&&a.internal.selectedLookUps.length>=a.settings.maxValues){b.cancelBubble=true;b.preventDefault&&b.preventDefault();b.stopProgagation&&b.stopPropagation();return false}return true};_containerClick=function(a){a.internal.emptyHtmlContainer.style.display="none";try{a.internal.cursor.focus()}catch(b){}return false};_save=function(a){for(var b=[],h=0;h<a.internal.selectedLookUps.length;h++)b[b.length]=
a.internal.selectedLookUps[h].Value;a.internal.state.value=b.join(a.settings.delimiter)};_popupMouseOver=function(a){a.internal.mouseIsOverPopup=true};_popupMouseOut=function(a){a.internal.mouseIsOverPopup=false};g.fn.glowLookUpTextBox=function(a){if(a in t)return t[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return x.apply(this,arguments);else g.error("Method "+a+" does not exist on jQuery.fn.glowLookUpTextBox")};g.extend(g.fn.glowLookUpTextBox,{defaults:{delimiter:",",
allowDuplicates:false,maxValues:0,onGetLookUps:null,emptyHtml:"",selectedLookUpsHtml:[],deleteImageUrl:"",lookUpPopUpHeight:200,minimumLookUpLength:1}})})(jQuery);
(function(g,t){var x=function(l,j){var e={},c={};if(l&&g.isPlainObject(l)){e=g.extend({},g.glowModal.defaults,l||{});c=g.extend({},l||{})}else{e=g.extend({},g.glowModal.defaults,j||{},{url:l});c=g.extend({},j||{},{url:l})}if(!e.openerWindow){e.openerWindow=t;c.openerWindow=t}var d=v(e.openerWindow);if(d)return d.$.glowModal(c);c=null;for(d=w.length-1;d>=0;d--)if(w[d].shown())break;else c=w[d];if(!c){w[w.length]=new o("telligent_modal_"+w.length);c=w[w.length-1]}return c.open(e)};g.extend(x,{defaults:{width:300,
height:300,onClose:null,x:null,y:null,ignoreCloseAndAnimation:null,isManuallyresized:null,loadingHtmlUrl:"",windowWrapperCssClasses:[],windowCssClasses:[],windowTitleCssClasses:[],windowCloseCssClasses:[],windowContentCssClasses:[],windowMaskCssClasses:[],windowFooterCssClasses:[],windowResizeCssClasses:[],zIndex:1E3,enableAnimation:false,enableAutoResizing:true,openInParentModal:true,url:null,html:null,title:null,isDraggable:true,isResizable:true},close:function(l,j){j||(j=t);var e=v(j);if(e)e.$.glowModal.close(l,
j);else(e=p(j))&&e.close(l)},moveTo:function(l,j,e){e||(e=t);var c=v(e);if(c)c.$.glowModal.moveTo(l,j,e);else(e=p(e))&&e.moveTo(l,j)},resize:function(l,j,e,c){c||(c=t);var d=v(c);if(d)d.$.glowModal.resize(l,j,e,c);else(c=p(c))&&c.resize(l,j,e)},refresh:function(l){l||(l=t);var j=v(l);j?j.$.glowModal.refresh(l):g.each(w,function(e,c){c.refresh()})},opener:function(l,j){j||(j=t);var e=v(j);if(e)return e.$.glowModal.opener(l,j);e=y(w,function(c){return c.shown()&&c._modalIframe.contentWindow==l});return e!==
null?e._openerWindow:null},visible:function(l){l||(l=t);var j=v(l);if(j)return j.$.glowModal.shown(l);return(l=p(l))?l.shown():false}});g.extend({glowModal:x});var w=[],y=function(l,j){var e=g.grep(l,j);return e!==null&&e.length>0?e[e.length-1]:null},v=function(){if(x.defaults.openInParentModal)try{if(t.parent&&t.parent!=t&&parent.$&&parent.$.glowModal)return t.parent}catch(l){}return null},p=function(l){return y(w,function(j){return j.shown()&&j._openerWindow==l})},o=function(l){this._id=l;this._initialized=
this._isShown=false;this._animationHandle=this._modalContent=this._modalFooter=this._modalResize=this._modalIframe=this._modalMask=this._modalAnimationMask=this._modalClose=this._modalTitle=this._modal=null;this._isOpening=false;this._lastWindowInfo=this._lastModalInfo=this._checkForScrollresizeHandle=null;this._isDragging=false;this._resizeModalInfo=this._moveModalInfo=null;this._isResizing=false};g.extend(o.prototype,{_animate:function(l,j,e,c){this._animationHandle&&t.clearTimeout(this._animationHandle);
if(this._isOpening){var d=parseInt(this._modal.style.top,10);if(e<0&&d<l||e>0&&d>l||Math.abs(e)<1){this._modal.style.top=l+"px";this._modalAnimationMask.style.overflow="visible";this._animationHandle=null;if(!this._isResizing&&!this._isDragging&&this._settings.url)this._modalIframe.style.visibility="visible";this._isOpening=false;this._lastWindowInfo=g.telligent.glow.utility.getWindowInfo();var n=this;this._checkForScrollresizeHandle=t.setTimeout(function(){n._checkForScrollresize()},19)}else{this._modal.style.top=
j+"px";j+=e;if(e>0&&j>l)j=l;else if(e<0&&j<l)j=l;e*=c;n=this;this._animationHandle=t.setTimeout(function(){n._animate(l,j,e,c)},19)}}},_startDrag:function(l){this._initialized||this._initialize();if(!l)l=t.event;this._moveModalInfo={};this._moveModalInfo.StartMouseX=l.pageX?l.pageX:l.screenX;this._moveModalInfo.StartMouseY=l.pageY?l.pageY:l.screenY;this._moveModalInfo.StartModalX=this._lastModalInfo.X;this._moveModalInfo.StartModalY=this._lastModalInfo.Y;this._moveModalInfo.Button=l.button;var j=
this;g(document).bind("mouseup.glowModal",function(e){j._endDrag(e);return false}).bind("mousemove.glowModal",function(e){j._drag(e);return false});this._isDragging=true;if(this._modalIframe)this._modalIframe.style.visibility="hidden"},_endDrag:function(){this._initialized||this._initialize();g(document).unbind("mouseup.glowModal").unbind("mousemove.glowModal");if(this._settings.url)this._modalIframe.style.visibility="visible";this._isDragging=false;this._moveModalInfo=null},_drag:function(l){this._initialized||
this._initialize();if(!l)l=t.event;l.button!=this._moveModalInfo.Button?this._endDrag(l):this.moveTo(this._moveModalInfo.StartModalX+((typeof l.pageX!="undefined"?l.pageX:l.screenX)-this._moveModalInfo.StartMouseX),this._moveModalInfo.StartModalY+((typeof l.pageY!="undefined"?l.pageY:l.screenY)-this._moveModalInfo.StartMouseY))},_startresize:function(l){this._initialized||this._initialize();if(!l)l=t.event;this._resizeModalInfo={};this._resizeModalInfo.StartMouseX=l.pageX?l.pageX:l.screenX;this._resizeModalInfo.StartMouseY=
l.pageY?l.pageY:l.screenY;this._resizeModalInfo.StartModalWidth=this._lastModalInfo.Width;this._resizeModalInfo.StartModalHeight=this._lastModalInfo.Height;this._resizeModalInfo.Button=l.button;var j=this;g(document).bind("mouseup.glowModal",function(e){j._endresize(e);return false}).bind("mousemove.glowModal",function(e){j._resize(e);return false});if(this._modalIframe)this._modalIframe.style.visibility="hidden";this._isResizing=true},_endresize:function(){this._initialized||this._initialize();this._isResizing=
false;this._resizeModalInfo=null;g(document).unbind("mouseup.glowModal").unbind("mousemove.glowModal");if(this._settings.url)this._modalIframe.style.visibility="visible"},_resize:function(l){this._initialized||this._initialize();if(!l)l=t.event;l.button!=this._resizeModalInfo.Button?this._endresize(l):this.resize(this._resizeModalInfo.StartModalWidth+((typeof l.pageX!="undefined"?l.pageX:l.screenX)-this._resizeModalInfo.StartMouseX),this._resizeModalInfo.StartModalHeight+((typeof l.pageY!="undefined"?
l.pageY:l.screenY)-this._resizeModalInfo.StartMouseY),true)},_checkForScrollresize:function(){this._checkForScrollresizeHandle&&t.clearTimeout(this._checkForScrollresizeHandle);if(this._isShown&&!this._isOpening&&this._lastWindowInfo){if(this._settings.title)g(this._modalTitle.childNodes[1]).html(this._settings.title);else if(this._settings.url)try{if(document.all)this._modalTitle.childNodes[1].innerText=this._modalIframe.contentWindow.document.title;else this._modalTitle.childNodes[1].textContent=
this._modalIframe.contentWindow.document.title}catch(l){}var j=g.telligent.glow.utility.getWindowInfo();if(j.ScrollX!=this._lastWindowInfo.ScrollX||j.ScrollY!=this._lastWindowInfo.ScrollY||j.Width!=this._lastWindowInfo.Width||j.Height!=this._lastWindowInfo.Height)this.resize(this._lastModalInfo.Width,this._lastModalInfo.Height,false);else{if(this._settings.enableAutoResizing&&!this._isDragging&&!this._isResizing)try{var e=0,c=0,d=false;if(this._settings.url){var n=this._modalIframe.contentWindow.document;
if(!n.readyState||n.readyState=="complete"){var f=g.telligent.glow.utility.getWindowInfo(this._modalIframe.contentWindow);e=f.ContentHeight;c=f.ContentWidth;d=true}}else{e=this._modalContent.scrollHeight;c=this._modalContent.scrollWidth;d=true}if(d){var k=g.telligent.glow.utility.getStyleOffset(this._modalContent),a=this._modal.offsetHeight-this._modalContent.offsetHeight-k.Height,b=this._modal.offsetWidth-this._modalContent.offsetWidth-k.Width;if(e>j.Height-a)e=j.Height-a;if(c>j.Width-b)c=j.Width-
b;var h=e!=this._lastModalInfo.Height&&(e>this._lastModalInfo.Height||this._lastModalInfo.Height-e>64&&e>32)&&(!this._lastModalInfo.IsManuallyresized||e>this._lastModalInfo.Height),m=c!=this._lastModalInfo.Width&&(c>this._lastModalInfo.Width||this._lastModalInfo.Width-c>64&&c>32)&&(!this._lastModalInfo.IsManuallyresized||c>this._lastModalInfo.Width);if(h||m){this.resize(m?c:this._lastModalInfo.Width,h?e:this._lastModalInfo.Height,false);return}}}catch(q){}var r=this;this._checkForScrollresizeHandle=
t.setTimeout(function(){r._checkForScrollresize()},249)}}},_initialize:function(){this._modalMask=document.createElement("div");this._modalMask.style.height="0";this._modalMask.style.position="absolute";this._modalMask.style.visibility="hidden";this._modalMask.style.overflow="hidden";var l=this;g(this._modalMask).on("click",function(){l.close()});var j=this._modalMask;if(this._settings.windowMaskCssClasses.length>0){j.className=this._settings.windowMaskCssClasses[0];for(var e=1;e<this._settings.windowMaskCssClasses.length;e++){j.appendChild(document.createElement("div"));
j=j.childNodes[0];j.className=this._settings.windowMaskCssClasses[e];j.style.width="auto";j.style.height="auto"}}document.body.appendChild(this._modalMask);this._modalAnimationMask=document.createElement("div");this._modalAnimationMask.style.position="absolute";this._modalAnimationMask.style.visibility="hidden";this._modalAnimationMask.style.overflow="hidden";this._modalAnimationMask.style.height="0";g(this._modalAnimationMask).addClass((this._settings.windowWrapperCssClasses||[]).join(" "));this._modal=
document.createElement("div");this._modal.style.width="auto";this._modal.style.height="auto";this._modal.style.position="absolute";this._modal.style.visibility="hidden";j=this._modal;if(this._settings.windowCssClasses.length>0){j.className=this._settings.windowCssClasses[0];for(e=1;e<this._settings.windowCssClasses.length;e++){j.appendChild(document.createElement("div"));j=j.childNodes[0];j.className=this._settings.windowCssClasses[e];j.style.width="auto";j.style.height="auto"}}this._modalTitle=document.createElement("div");
j.appendChild(this._modalTitle);if(this._settings.windowTitleCssClasses.length>0){this._modalTitle.className=this._settings.windowTitleCssClasses[0];for(e=1;e<this._settings.windowTitleCssClasses.length;e++){this._modalTitle.appendChild(document.createElement("div"));this._modalTitle=this._modalTitle.childNodes[0];this._modalTitle.className=this._settings.windowTitleCssClasses[e]}}l=this;this._settings.isDraggable&&g(this._modalTitle).bind("mousedown.glowModal",function(d){l._startDrag(d);return false});
this._modalClose=document.createElement("div");this._modalTitle.appendChild(this._modalClose);var c=this._modalClose;if(this._settings.windowCloseCssClasses.length>0){c.className=this._settings.windowCloseCssClasses[0];for(e=1;e<this._settings.windowCloseCssClasses.length;e++){c.appendChild(document.createElement("div"));c=c.childNodes[0];c.className=this._settings.windowCloseCssClasses[e]}}l=this;g(this._modalClose).bind("click.glowModal",function(){l.close();return false});this._modalTitle.appendChild(document.createElement("span"));
e=document.createElement("div");e.style.clear="both";this._modalTitle.appendChild(e);this._modalContent=document.createElement("div");j.appendChild(this._modalContent);if(this._settings.windowContentCssClasses.length>0){this._modalContent.className=this._settings.windowContentCssClasses[0];for(e=1;e<this._settings.windowContentCssClasses.length;e++){this._modalContent.appendChild(document.createElement("div"));this._modalContent=this._modalContent.childNodes[0];this._modalContent.className=this._settings.windowContentCssClasses[e]}}if(this._settings.url){this._modalIframe=
document.createElement("iframe");this._modalIframe.src=this._settings.loadingHtmlUrl;this._modalIframe.width="100%";this._modalIframe.border="0";this._modalIframe.frameBorder="0";this._modalIframe.style.borderLeftWidth="0px";this._modalIframe.style.borderRightWidth="0px";this._modalIframe.style.borderTopWidth="0px";this._modalIframe.style.borderBottomWidth="0px";this._modalIframe.id=this._id+"_iframe";this._modalIframe.allowFullscreen=true;this._modalContent.appendChild(this._modalIframe)}this._modalFooter=
document.createElement("div");j.appendChild(this._modalFooter);j=this._modalFooter;if(this._settings.windowFooterCssClasses.length>0){j.className=this._settings.windowFooterCssClasses[0];for(e=1;e<this._settings.windowFooterCssClasses.length;e++){j.appendChild(document.createElement("div"));j=j.childNodes[0];j.className=this._settings.windowFooterCssClasses[e]}}this._modalResize=document.createElement("div");this._settings.isResizable&&j.appendChild(this._modalResize);e=document.createElement("div");
e.style.clear="both";j.appendChild(e);if(this._settings.isResizable){j=this._modalResize;if(this._settings.windowResizeCssClasses.length>0){j.className=this._settings.windowResizeCssClasses[0];for(e=1;e<this._settings.windowResizeCssClasses.length;e++){j.appendChild(document.createElement("div"));j=j.childNodes[0];j.className=this._settings.windowResizeCssClasses[e]}}}l=this;g(this._modalResize).bind("mousedown.glowModal",function(d){l._startresize(d);return false});this._modalAnimationMask.appendChild(this._modal);
document.body.appendChild(this._modalAnimationMask);this._settings.html&&g(this._modalContent).html(this._settings.html);this._initialized=true},shown:function(){return this._isShown},resize:function(l,j,e){if(this._isShown&&!this._isOpening&&this._lastModalInfo&&l>0&&j>0)this.open({url:this._settings.url,html:this._settings.html,title:this._settings.title,width:l,height:j,onClose:this._lastModalInfo.onClose,x:this._lastModalInfo.X,y:this._lastModalInfo.Y,ignorecloseAndAnimation:true,isManuallyresized:e?
true:this._lastModalInfo.IsManuallyresized})},moveTo:function(l,j){this._isShown&&!this._isOpening&&this._lastModalInfo&&this.open({url:this._settings.url,html:this._settings.html,title:this._settings.title,width:this._lastModalInfo.Width,height:this._lastModalInfo.Height,onClose:this._lastModalInfo.onClose,x:l,y:j,ignorecloseAndAnimation:true,isManuallyresized:this._lastModalInfo.IsManuallyresized})},open:function(l){this._settings=g.extend({},g.glowModal.defaults,l);l=this._settings.onClose;var j=
this._settings.x,e=this._settings.y,c=this._settings.ignorecloseAndAnimation,d=this._settings.isManuallyresized,n=this._settings.openerWindow;if(n)this._openerWindow=n;!c&&this._isShown&&this.close();this._initialized||this._initialize();if(this._settings.title)g(this._modalTitle.childNodes[1]).html(this._settings.title);else if(this._settings.url){try{if(document.all)this._modalTitle.childNodes[1].innerText=this._modalIframe.contentWindow.document.title;else this._modalTitle.childNodes[1].textContent=
this._modalIframe.contentWindow.document.title}catch(f){}if(!c&&this._settings.url)this._modalIframe.src=this._settings.url;try{if(this._settings.url)this._modalIframe.contentWindow.opener=t}catch(k){}}this._lastWindowInfo=g.telligent.glow.utility.getWindowInfo();if(!c){this._modalAnimationMask.style.position="absolute";this._modalAnimationMask.style.zIndex=this._settings.zIndex;this._modalAnimationMask.style.visibility="hidden";this._modalAnimationMask.style.height="auto";this._modalAnimationMask.style.overflow=
"hidden";this._modal.style.position="absolute";this._modal.style.visibility="hidden";this._modal.style.left="0px";this._modal.style.top="0px";this._modalMask.style.position="absolute";this._modalMask.style.visibility="visible";this._modalMask.style.zIndex=this._settings.zIndex;this._modalMask.style.height="auto"}var a=g.telligent.glow.utility.getStyleOffset(this._modalContent);n=this._modal.offsetWidth-this._modalContent.offsetWidth-a.Width;a=this._modal.offsetHeight-this._modalContent.offsetHeight-
a.Height;if(this._settings.width+n>this._lastWindowInfo.Width)this._settings.width=this._lastWindowInfo.Width-n;this._modalAnimationMask.style.width=this._settings.width+"px";this._modalContent.style.width=this._settings.width+"px";if(this._settings.height+a>this._lastWindowInfo.Height)this._settings.height=this._lastWindowInfo.Height-a;if(this._settings.width<this._modalResize.offsetWidth*2)this._settings.width=this._modalResize.offsetWidth*2;if(this._settings.width<this._modalClose.offsetWidth*
2)this._settings.width=this._modalClose.offsetWidth*2;if(this._settings.height<this._modalTitle.offsetHeight+this._modalFooter.offsetHeight)this._settings.height=this._modalTitle.offsetHeight+this._modalFooter.offsetHeight-a;if(this._settings.url){this._modalIframe.style.height=this._settings.height+"px";this._modalIframe.style.width=this._settings.width+"px"}this._modalContent.style.height=this._settings.height+"px";this._modalContent.style.width=this._settings.width+"px";this._modalAnimationMask.style.width=
this._modal.offsetWidth+"px";this._modalAnimationMask.style.height=this._modal.offsetHeight+"px";this._modalMask.style.left="0px";this._modalMask.style.top="0px";this._modalMask.style.width=this._lastWindowInfo.ContentWidth+"px";this._modalMask.style.height=this._lastWindowInfo.ContentHeight+"px";this._lastWindowInfo=g.telligent.glow.utility.getWindowInfo();a=this._modal.offsetWidth;n=this._modal.offsetHeight;if(typeof j=="undefined"||isNaN(parseInt(j,10)))j=(this._lastWindowInfo.Width-a)/2+this._lastWindowInfo.ScrollX;
if(j+a>this._lastWindowInfo.Width+this._lastWindowInfo.ScrollX)j=this._lastWindowInfo.Width+this._lastWindowInfo.ScrollX-a;if(j<this._lastWindowInfo.ScrollX)j=this._lastWindowInfo.ScrollX;if(typeof e=="undefined"||isNaN(parseInt(e,10)))e=(this._lastWindowInfo.Height-n)/2+this._lastWindowInfo.ScrollY;if(e+n>this._lastWindowInfo.Height+this._lastWindowInfo.ScrollY)e=this._lastWindowInfo.Height+this._lastWindowInfo.ScrollY-n;if(e<this._lastWindowInfo.ScrollY)e=this._lastWindowInfo.ScrollY;this._modalAnimationMask.style.left=
j+"px";a=(g(window).height()-g(this._modalAnimationMask).outerHeight())/2;this._modalAnimationMask.style.top=a>0&&!this._settings.isDraggable?a+"px":e+"px";this._modalAnimationMask.style.overflow="hidden";if(!c){this._modal.style.visibility="visible";this._modalAnimationMask.style.visibility="visible";g.telligent.glow.utility.hideSelectBoxes(this._modalAnimationMask,true)}this._isOpening=true;if(!this.EnableAnimation||c)this._animate(0,0,0,0);else{if(this._settings.url)this._modalIframe.style.visibility=
"hidden";this._animate(0,-n,n/3,0.67)}this._lastModalInfo={Url:this._settings.url?this._modalIframe.src:null,onClose:l,X:j,Y:e,Width:(this._settings.width&&typeof this._settings.width=="string"&&this._settings.width.indexOf("%"))>0?this._settings.width:parseInt(this._settings.width,10),Height:(this._settings.height&&typeof this._settings.height=="string"&&this._settings.height.indexOf("%"))>0?this._settings.height:parseInt(this._settings.height,10),IsManuallyresized:d};this._isShown=true;return this._settings.url?
this._modalIframe:this._modalContent},close:function(l){if(this._isShown){this._initialized||this._initialize();this._modal.style.position="absolute";this._modal.style.visibility="hidden";this._modal.style.height="0";this._modalAnimationMask.style.position="absolute";this._modalAnimationMask.style.visibility="hidden";this._modalAnimationMask.style.height="0";this._modalMask.style.position="absolute";this._modalMask.style.visibility="hidden";if(this._settings.url)this._modalIframe.src=this._settings.loadingHtmlUrl;
var j=this._lastModalInfo.onClose;this._isShown=false;this._globalInfo=this._lastModalInfo=null;g.telligent.glow.utility.showSelectBoxes(this._modalAnimationMask);j&&t.setTimeout(function(){j(l)},9);this.dispose()}},refresh:function(){this._animationHandle&&t.clearTimeout(this._animationHandle);this.dispose();this._isShown&&this._lastModalInfo&&this.resize(this._lastModalInfo.Width,this._lastModalInfo.Height,false)},dispose:function(){if(this._initialized){this._animationHandle&&t.clearTimeout(this._animationHandle);
this._isOpening=this._isShown=false;if(document&&document.body){document.body.removeChild(this._modalAnimationMask);document.body.removeChild(this._modalMask);g(this._modalClose).unbind("click.glowModal");g(this._modalTitle).unbind("mousedown.glowModal");g(this._modalResize).unbind("mousedown.glowModal");this._modalContent=this._modalFooter=this._modalResize=this._modalIframe=this._modalMask=this._modalAnimationMask=this._modalClose=this._modalTitle=this._modal=null}this._initialized=false}}})})(jQuery,
window);
(function(g,t){var x={val:function(){var f=g(this).data(w).files;return f!==null?g.map(f,function(k){return{name:k.name}}):[]}},w="_glowMultiUpload",y={begun:"glowMultiUploadBegun",complete:"glowMultiUploadComplete",error:"glowMultiUploadError"},v=function(f){return this.each(function(){var k=g(this),a=g.extend({},g.fn.glowMultiUpload.defaults,f||{},{pluploader:null,files:[],fileOffset:0,uploadedFiles:{},erroredFiles:{},cancelledFiles:{},isUploading:false,currentUploadPercent:0,fileContainer:null,currentUploadId:0,
listContainer:null,uploadButton:null});g.extend(a,{container:k,initialized:false});g(this).data(w,a);p(a)})},p=function(f){for(var k=["1234567890","0987654321","0192837465","5647382910"],a=[],b=0;b<2500;b++)a[a.length]=k[Math.floor(Math.random()*k.length)];var h=(new Date).getTime();jQuery.ajax({type:"POST",url:f.uploadUrl,data:{test:a.join("")},success:function(){var m=(new Date).getTime();o(f,f.fileList,2E5/((m-h)/1E3)*45)},error:function(){o(f,f.fileList,1E6)}})},o=function(f,k,a){if(/Mozilla[^\(]*\(.*? rv:([0-9]+)\.([0-9]+)\.([0-9]+)/.test(navigator.userAgent))if(parseInt(RegExp.$1,
10)<1||parseInt(RegExp.$2,10)<9||parseInt(RegExp.$3,10)<2)f.runtimes=f.runtimes.replace(/,?flash/i,"");for(var b=0;b<k.length;b++){var h={name:k[b],id:"preuploaded_"+b,status:plupload.DONE,percent:100,size:"unknown",loaded:"unknown"};f.files[f.files.length]=h;f.uploadedFiles[h.id]=true}f.fileOffset=f.files.length;k="15mb";if(a<15E6){k=Math.floor(a);if(k<1E6)k=1E6;k=Math.floor(a/1E6)+"mb"}f.container.attr("id")||f.container.attr("id","upload"+(new Date).getTime());a={runtimes:f.runtimes,container:f.container.attr("id"),
browse_button:f.container.attr("id"),drop_element:f.container.attr("id"),url:f.uploadUrl,flash_swf_url:f.swfUrl,silverlight_xap_url:f.silverlightUrl,chunk_size:k,filter:{max_file_size:f.maxFileSize}};if(f.fileFilter!==null)a.filters.mime_types=f.fileFilter;f.pluploader=new plupload.Uploader(a);f.pluploader.bind("Init",function(){c(f)});f.pluploader.bind("StateChanged",function(){if(f.pluploader.state==plupload.STOPPED){if(f.upload)f.upload.disabled=false}else if(f.pluploader.state==plupload.STARTED)if(f.upload)f.upload.disabled=
true});f.pluploader.bind("FilesAdded",function(m,q){f.addedFiles=q});f.pluploader.bind("QueueChanged",function(){l(f)});f.pluploader.bind("UploadProgress",function(m,q){if(q.status==plupload.UPLOADING){if(!f.isUploading||f.currentUploadId!=q.id){var r=!f.isUploading;f.isUploading=true;f.currentUploadId=q.id;f.currentUploadPercent=0;j(f);r&&f.container.trigger(y.begun)}f.currentUploadPercent=q.percent;j(f)}else if(q.status==plupload.FAILED){f.isUploading=false;f.erroredFiles[q.id]=true;f.currentUploadId=
null;j(f);f.container.trigger(y.error)}});f.pluploader.bind("FileUploaded",function(m,q){a:{f.uploadedFiles[q.id]=true;j(f);for(var r=0;r<f.files.length;r++)if(!f.uploadedFiles[f.files[r].id]&&!f.cancelledFiles[f.files[r].id]&&!f.erroredFiles[f.files[r].id])break a;f.isUploading=false;f.currentUploadId=null;j(f);f.uploadButton&&f.uploadButton.attr("disabled","disabled")}});f.pluploader.bind("Error",function(m,q){if(!f.initialized){var r=f.notSupportedMessage;if(!r){r=[];f.runtimes.indexOf("html5")>
-1&&r.push("An HTML5 capable browser");f.runtimes.indexOf("silverlight")>-1&&r.push('<a href="http://microsoft.com/getsilverlight/" target="_blank">Silverlight</a>');f.runtimes.indexOf("flash")>-1&&r.push('<a href="http://get.adobe.com/flashplayer/" target="_blank">Flash</a>');if(r.length==0)r="Uploading is not supported.";else{if(r.length>1)r[r.length-1]="or "+r[r.length-1];r=r.join(", ")+" is required to upload."}}f.container.children().hide();g("<div></div>").css({fontSize:"11px",borderWidth:"1px",
borderStyle:"solid",borderColor:"#999",width:f.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#eee",textAlign:"center",padding:".25em",color:"#000"}).html(r).appendTo(f.container)}if(q.file){f.isUploading=false;f.erroredFiles[q.file.id]=true;f.currentUploadId=null;j(f);f.container.trigger(y.error)}});f.pluploader.bind("UploadComplete",function(m,q){e(f,q)});t.setTimeout(function(){f.pluploader.init()},9);f.container.find('input[type="file"]').hide()},l=function(f){t.clearTimeout(f.autoUploadHandle);
if(f.addedFiles){var k=f.addedFiles;f.addedFiles=null;for(var a=0;a<k.length;a++)for(var b=0;b<f.files.length;b++)if(f.files[b].name==k[a].name){n(f,f.files[b].id);if(f.files[b].status==plupload.QUEUED){for(var h=[],m=0;m<f.files.length;m++)if(f.files[m].id!=f.files[b].id)h[h.length]=f.files[m];f.files=h}}if(f.maxFileCount>0&&f.files.length+k.length>f.maxFileCount){for(a=0;a<k.length;a++)n(f,k[a].id);f.container.trigger(y.error)}else{for(a=0;a<k.length;a++)f.files[f.files.length]=k[a];j(f);f.uploadButton&&
f.uploadButton.removeAttr("disabled");if(k.length>0&&f.autoUpload)f.autoUploadHandle=t.setTimeout(function(){d(f)},499)}}},j=function(f){t.clearTimeout(f.fileListRefreshHandle);var k=(new Date).getTime();if(f.lastFileListRefresh>0&&k-f.lastFileListRefresh<1E3)f.fileListRefreshHandle=t.setTimeout(function(){j(f)},1001-(k-f.lastFileListRefresh));else{f.lastFileListRefresh=k;k=[];for(var a=0;a<f.files.length;a++){k[k.length]=f.uploadedFiles[f.files[a].id]?f.uploadedFormat.replace("{0}",f.files[a].name):
f.erroredFiles[f.files[a].id]?f.errorFormat.replace("{0}",f.files[a].name):f.cancelledFiles[f.files[a].id]?f.cancelledFormat.replace("{0}",f.files[a].name):f.currentUploadId==f.files[a].id?f.uploadingFormat.replace("{0}",f.files[a].name).replace("{1}",f.currentUploadPercent):f.toUploadFormat.replace("{0}",f.files[a].name).replace("{1}",f.variableName).replace("{2}",f.files[a].id);if(a===0)k[k.length-1]=k[k.length-1].replace(f.firstItemRemove,"")}f.listContainer.html(k.join(""))}},e=function(f,k){k=
g.map(k||[],function(a){return{file:a.name}});f.container.trigger(y.complete,k)},c=function(f){if(!f.hasInited){f.hasInited=true;f.container.children(":not(.moxie-shim)").remove();f.container.addClass("glow-multiupload");f.listContainer=g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",borderBottomWidth:"0px",width:f.width,overflow:"auto",overflowX:"hidden",padding:".35em",backgroundColor:"#fff"});f.height&&f.height!="100%"?f.listContainer.css({height:f.height}):
f.listContainer.css({minHeight:"50px"});f.container.append(f.listContainer);var k=g("<div></div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:f.width,padding:".35em",backgroundColor:"#eee",textAlign:"left"});if(f.autoUpload===false)f.uploadButton=g('<input type="button" />').val("Upload").css({cssFloat:"right"}).bind("click",function(){d(f);return false}).attr("disabled","disabled").appendTo(k);var a=g('<input type="button" />').val("Browse...").css({cssFloat:"left"}).attr("id",
f.variableName+"_browseButton").appendTo(k);g("<div></div>").css({clear:"both",height:"0px",overflow:"hidden"}).appendTo(k);f.container.append(k);j(f);f.pluploader.setOption("browse_button",a.attr("id"));f.initialized=true}},d=function(f){f.pluploader&&t.setTimeout(function(){f.pluploader.start()},99)},n=function(f){if(f.pluploader)try{var k=f.pluploader.getFile(file_id);k&&f.pluploader.removeFile(k)}catch(a){}f.cancelledFiles[file_id]=true;j(f)};g.fn.glowMultiUpload=function(f){if(f in x)return x[f].apply(this,
Array.prototype.slice.call(arguments,1));else if(typeof f==="object"||!f)return v.apply(this,arguments);else g.error("Method "+f+" does not exist on jQuery.fn.glowMultiUpload")};g.extend(g.fn.glowMultiUpload,{defaults:{fileFilter:null,maxFileSize:"2048mb",width:"350px",height:"200px",uploadUrl:"/",autoUpload:true,maxFileCount:5,fileList:[],swfUrl:"moxie.swf",silverlightUrl:"",uploadedFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #3a3; margin-left: .25em;">Uploaded</div>{0}</div>',
uploadingFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; margin-top: .25em; margin-left: .25em; border: solid 1px #999; background-color: #eee; width: 50px; height: .5em;"><div style="background-color: #7e7; width: {1}%; height: .5em;"></div></div>{0}</div>',toUploadFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; margin-left: .25em; font-style: normal;"><a href="#" style="color: #f00;" onclick="window.{1}.CancelFile(\'{2}\'); return false;">Cancel</a></div>{0}</div>',
errorFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #f00; margin-left: .25em;">Error</div>{0}</div>',cancelledFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #666; font-style: italic; margin-left: .25em;">Cancelled</div>{0}</div>',
firstItemRemove:"border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;",runtimes:"html5,flash"}})})(jQuery,window);
(function(g){var t={refreshPagePosition:function(){return this.each(function(){var a=g(this).data("orderedList");a.internal.pagePosition=g.telligent.glow.utility.getElementInfo(a.internal.itemsContainer)})},getIndexByPosition:function(a,b){var h=this.data("orderedList");if(h){h.internal.pagePosition==null&&t.refreshPagePosition.apply(g(h.internal.state));if(a>h.internal.pagePosition.Left&&a<h.internal.pagePosition.Left+h.internal.pagePosition.Width&&b>h.internal.pagePosition.Top&&b<h.internal.pagePosition.Top+
h.internal.pagePosition.Height){for(var m=b-h.internal.pagePosition.Top+h.internal.itemsContainer.scrollTop,q=0;q<h.internal.itemsContainer.childNodes.length;q++)if(h.internal.itemsContainer.childNodes[q].offsetHeight<m)m-=h.internal.itemsContainer.childNodes[q].offsetHeight;else break;return q}}return-1},highlight:function(a){return this.each(function(){var b=g(this).data("orderedList");if(a){for(var h=0;h<b.internal.itemsContainer.childNodes.length;h++)b.internal.itemsContainer.childNodes[h].style.backgroundColor=
"#cccccc";b.internal.itemsContainer.style.backgroundColor="#cccccc";b.internal.itemsContainer.style.borderColor="#666666"}else{for(h=0;h<b.internal.itemsContainer.childNodes.length;h++)if(b.internal.selectedIndex!=h){b.internal.itemsContainer.childNodes[h].style.backgroundColor=b.internal.backgroundColor;b.internal.itemsContainer.childNodes[h].style.borderColor=b.internal.backgroundColor}b.internal.itemsContainer.style.backgroundColor=b.internal.backgroundColor;b.internal.itemsContainer.style.borderColor=
"#999999"}})},addDraggedItem:function(a,b,h){if(a){var m=true;return this.each(function(){if(m)m=false;else a=a._clone();var q=g(this).data("orderedList");if(!h)h=window.event;t.insert.apply(g(q.internal.state),[a,b]);t.refresh.apply(g(q.internal.state),[]);g(q.internal.state).trigger(x.itemAdded,a);n(q,b);c(q,b);j(q,h);v(q)})}},selectedIndex:function(){var a=this.data("orderedList");if(a)return a.internal.selectedIndex},moveUp:function(){return this.each(function(){var a=g(this).data("orderedList");
if(a.internal.selectedIndex>0){var b=a.internal.selectedIndex,h=a.internal.selectedIndex-1;o(a,a.internal.selectedIndex,h);t.select.apply(g(a.internal.state),[h,true]);var m=a.internal.items[h];g(a.internal.state).trigger(x.itemMoved,[m,b,h])}})},moveDown:function(){return this.each(function(){var a=g(this).data("orderedList");if(a.internal.selectedIndex>=0&&a.internal.selectedIndex<a.internal.itemsContainer.childNodes.length-1){var b=a.internal.selectedIndex,h=a.internal.selectedIndex+1;o(a,a.internal.selectedIndex,
h);t.select.apply(g(a.internal.state),[h,true]);var m=a.internal.items[h];g(a.internal.state).trigger(x.itemMoved,[m,b,h])}})},resize:function(a,b){if(a<=4)a=4;if(b<=4)b=4;return this.each(function(){var h=g(this).data("orderedList");h.internal.itemsContainer.style.width=a-4+"px";h.internal.itemsContainer.style.height=b-4+"px"})},disabled:function(a){if(a===undefined){var b=this.data("orderedList");if(b)return b.internal.state.readonly}else return this.each(function(){var h=g(this).data("orderedList");
h.internal.state.readonly=a;t.refresh.apply(g(h.internal.state),[])})},refresh:function(){return this.each(function(){var a=g(this).data("orderedList");if(a.internal.initialized){for(;a.internal.itemsContainer.childNodes.length>0;)a.internal.itemsContainer.removeChild(a.internal.itemsContainer.childNodes[0]);for(var b=0;b<a.internal.items.length;b++){var h=document.createElement("div");if(a.internal.state.readonly)h.style.cursor="default";else{h.onmouseover=g.telligent.glow.utility.makeBoundFunction(n,
null,[a,b]);h.onmouseout=g.telligent.glow.utility.makeBoundFunction(f,null,[a,b]);h.onclick=g.telligent.glow.utility.makeBoundFunction(t.select,g(a.internal.state),[b]);h.onmousedown=function(s){j(a,s)};h.style.cursor="pointer"}h.onselectstart=function(){return false};try{h.style.MozUserSelect="none"}catch(m){}try{h.style.userSelect="none"}catch(q){}try{h.style.WebkitUserSelect="ignore"}catch(r){}h.style.padding="2px";h.style.borderStyle="dotted";h.style.borderWidth="1px";h.style.display="block";
h.style.borderColor=a.internal.backgroundColor;h.innerHTML=a.internal.items[b].html;a.internal.itemsContainer.appendChild(h)}a.internal.selectedIndex=-1}})},select:function(a,b){return this.each(function(){var h=g(this).data("orderedList");if(h.internal.initialized&&a>-1)if(h.internal.selectedIndex!=a||b){if(h.internal.selectedIndex>-1){h.internal.itemsContainer.childNodes[h.internal.selectedIndex].className="";h.internal.itemsContainer.childNodes[h.internal.selectedIndex].style.backgroundColor=h.internal.backgroundColor;
h.internal.itemsContainer.childNodes[h.internal.selectedIndex].style.borderColor=h.internal.backgroundColor}h.internal.selectedIndex=a;h.internal.itemsContainer.childNodes[a].className="glow-orderedlist-selected";h.internal.itemsContainer.childNodes[a].style.backgroundColor="#cccccc";h.internal.itemsContainer.childNodes[a].style.borderColor="#666666";c(h,a);try{h.internal.moveItemLastIndex!=null&&f(h,h.internal.moveItemLastIndex)}catch(m){}g(h.internal.state).trigger(x.itemSelected,[h.internal.items[h.internal.selectedIndex]])}else{h.internal.itemsContainer.childNodes[h.internal.selectedIndex].className=
"";h.internal.itemsContainer.childNodes[h.internal.selectedIndex].style.backgroundColor=h.internal.backgroundColor;h.internal.itemsContainer.childNodes[h.internal.selectedIndex].style.borderColor=h.internal.backgroundColor;h.internal.selectedIndex=-1}})},add:function(a){if(!a)return this;t.remove.apply(this,[a]);var b=true;return this.each(function(){if(b)b=false;else a=a._clone();var h=g(this).data("orderedList");h.internal.items[h.internal.items.length]=a;var m=document.createElement("option");
m.name=a.text;m.value=a.value;h.internal.state.appendChild(m);g(h.internal.state).trigger(x.itemAdded,m)})},remove:function(a){if(!a)return this;return this.each(function(){for(var b=g(this).data("orderedList"),h=[],m=false,q=0;q<b.internal.items.length;q++)if(b.internal.items[q].value==a.value)m=true;else h[h.length]=b.internal.items[q];for(q=0;q<b.internal.state.options.length;q++)if(b.internal.state.options[q].value==a.value){b.internal.state.removeChild(b.internal.state.options[q]);break}g(b.internal.state).trigger(x.itemRemoved,
a);if(m)b.internal.items=h})},clear:function(){return this.each(function(){var a=g(this).data("orderedList");a.internal.items=[];g(a.internal.state).empty()})},insert:function(a,b){if(!a)return this;t.remove.apply(this,[a]);return this.each(function(){var h=g(this).data("orderedList"),m=document.createElement("option");m.name=a.text;m.value=a.value;for(var q=[],r=false,s=0;s<h.internal.items.length;s++){if(s==b){r=true;q[q.length]=a;s==h.internal.items.length-1?h.internal.state.appendChild(m):h.internal.state.insertBefore(m,
h.internal.state.options[s])}q[q.length]=h.internal.items[s]}if(!r){q[q.length]=a;h.internal.state.appendChild(m)}h.internal.items=q})},getByIndex:function(a){var b=this.data("orderedList");if(b&&a>=0&&a<b.internal.items.length)return b.internal.items[a];return null},count:function(){var a=this.data("orderedList");if(a)return a.internal.items.length;return 0},createItem:function(a){return new k(a)}},x={itemSelected:"glowOrderedListItemSelected",itemRemoved:"glowOrderedListItemRemoved",itemMoved:"glowOrderedListItemMoved",
itemAdded:"glowOrderedListItemAdded"},w=function(a){return this.each(function(){var b={settings:g.extend({},g.fn.glowOrderedList.defaults,a||{}),internal:{state:this,selectedIndex:-1,pagePosition:null,draggingInitalized:false,moveStartY:null,moveItemHeights:null,moveItemStartIndex:null,moveItemLastIndex:null,moveScrollStartY:null,moveItemFloat:null,moveItemIsFloating:false,items:null,backgroundColor:null,itemsContainer:null,initialized:false,itemsContainer:null,draggableOrderedLists:[]}};g(this).data("orderedList",
b);d(b)})},y=function(a){a.internal.draggableOrderedLists=[];!a.settings.draggableOrderedLists||a.settings.draggableOrderedLists.length<=0||a.settings.draggableOrderedLists.each(function(){try{if(g(this).glowOrderedList("disabled")===false)a.internal.draggableOrderedLists[a.internal.draggableOrderedLists.length]=g(this)}catch(b){}})},v=function(a){t.refreshPagePosition.apply(g(a.internal.state));y(a);var b;for(b=0;b<a.internal.draggableOrderedLists.length;b++){a.internal.draggableOrderedLists[b].glowOrderedList("highlight",
true);a.internal.draggableOrderedLists[b].glowOrderedList("refreshPagePosition")}if(a.internal.draggableOrderedLists.length>0){a.internal.itemsContainer.style.cursor="move";for(b=0;b<a.internal.itemsContainer.childNodes.length;b++)a.internal.itemsContainer.childNodes[b].style.cursor="move"}else{a.internal.itemsContainer.style.cursor="n-resize";for(b=0;b<a.internal.itemsContainer.childNodes.length;b++)a.internal.itemsContainer.childNodes[b].style.cursor="n-resize"}a.internal.draggingInitalized=true},
p=function(a,b,h,m){a.internal.pagePosition==null&&t.refreshPagePosition.apply(g(a.internal.state));var q=a.internal.pagePosition.Left,r=a.internal.pagePosition.Left+a.internal.pagePosition.Width,s=a.internal.pagePosition.Top,u=a.internal.pagePosition.Top+a.internal.pagePosition.Height;if(m){q-=24;r+=24;s-=32;u+=32;if(a.internal.moveItemLastIndex>=0){if(a.internal.moveItemLastIndex>0)s-=a.internal.itemsContainer.childNodes[a.internal.moveItemLastIndex-1].offsetHeight;if(a.internal.moveItemLastIndex<
a.internal.itemsContainer.childNodes.length-1)u+=a.internal.itemsContainer.childNodes[a.internal.moveItemLastIndex+1].offsetHeight}}return b>q&&b<r&&h>s&&h<u},o=function(a,b,h){if(!(b<0||h<0||h==b)){if(b<a.internal.items.length&&h<a.internal.items.length){var m=a.internal.items[b];if(b<h)for(var q=b;q<h;q++)a.internal.items[q]=a.internal.items[q+1];else for(q=b;q>h;q--)a.internal.items[q]=a.internal.items[q-1];a.internal.items[h]=m}if(a.internal.initialized&&b<a.internal.itemsContainer.childNodes.length&&
h<a.internal.itemsContainer.childNodes.length){if(h==a.internal.itemsContainer.childNodes.length-1)a.internal.itemsContainer.appendChild(a.internal.itemsContainer.childNodes[b]);else if(b>h)a.internal.itemsContainer.insertBefore(a.internal.itemsContainer.childNodes[b],a.internal.itemsContainer.childNodes[h]);else b<h&&a.internal.itemsContainer.insertBefore(a.internal.itemsContainer.childNodes[b],a.internal.itemsContainer.childNodes[h+1]);if(b<h)for(q=b;q<=h;q++){a.internal.itemsContainer.childNodes[q].onmouseover=
g.telligent.glow.utility.makeBoundFunction(n,null,[a,q]);a.internal.itemsContainer.childNodes[q].onmouseout=g.telligent.glow.utility.makeBoundFunction(f,null,[a,q]);a.internal.itemsContainer.childNodes[q].onclick=g.telligent.glow.utility.makeBoundFunction(t.select,g(a.internal.state),[q])}else for(q=b;q>=h;q--){a.internal.itemsContainer.childNodes[q].onmouseover=g.telligent.glow.utility.makeBoundFunction(n,null,[a,q]);a.internal.itemsContainer.childNodes[q].onmouseout=g.telligent.glow.utility.makeBoundFunction(f,
null,[a,q]);a.internal.itemsContainer.childNodes[q].onclick=g.telligent.glow.utility.makeBoundFunction(t.select,g(a.internal.state),[q])}}}},l=function(a){return a.internal.moveStartY!=null&&a.internal.moveItemLastIndex!=null},j=function(a,b){if(!b)b=window.event;if(a.internal.moveItemLastIndex>=0&&a.internal.moveItemLastIndex<a.internal.itemsContainer.childNodes.length){if(typeof b.pageY!="undefined")a.internal.moveStartY=b.pageY;else{var h=g.telligent.glow.utility.getWindowInfo();a.internal.moveStartY=
b.clientY+h.ScrollY}a.internal.moveScrollStartY=a.internal.itemsContainer.scrollTop;a.internal.moveItemStartIndex=a.internal.moveItemLastIndex;a.internal.moveItemHeights=[];for(h=0;h<a.internal.itemsContainer.childNodes.length;h++)a.internal.moveItemHeights[a.internal.moveItemHeights.length]=a.internal.itemsContainer.childNodes[h].offsetHeight;a.internal.draggingInitalized=false;g(document).bind("mouseup.orderedList",function(m){e(a,m);return false});g(document).bind("mousemove.orderedList",function(m){m=
m;if(!m)m=window.event;var q=0,r=0;if(typeof m.pageY!="undefined"){q=m.pageY;r=m.pageX}else{r=g.telligent.glow.utility.getWindowInfo();q=m.clientY+r.ScrollY;r=m.clientX+r.ScrollX}var s;if(l(a)){a.internal.draggingInitalized||v(a);if(a.internal.draggableOrderedLists.length>0&&!a.internal.moveItemIsFloating&&!p(a,r,q,true)){s=a.internal.moveItemLastIndex;if(!a.internal.moveItemFloat){a.internal.moveItemFloat=document.createElement("div");a.internal.moveItemFloat.style.position="absolute";a.internal.moveItemFloat.style.opacity=
".75";if(g.telligent.glow.utility.isIE())a.internal.moveItemFloat.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=75)";a.internal.moveItemFloat.style.backgroundColor="#cccccc";a.internal.moveItemFloat.style.borderColor="#666666";a.internal.moveItemFloat.className="glow-orderedlist-selected";a.internal.moveItemFloat.style.fontFamily=a.internal.itemsContainer.style.fontFamily;a.internal.moveItemFloat.style.fontSize=a.internal.itemsContainer.style.fontSize;a.internal.moveItemFloat.style.lineHeight=
a.internal.itemsContainer.style.lineHeight;a.internal.moveItemFloat.style.color=a.internal.itemsContainer.style.color;a.internal.moveItemFloat.style.padding="2px";a.internal.moveItemFloat.style.cursor="move";a.internal.moveItemFloat.style.borderStyle="dotted";a.internal.moveItemFloat.style.borderWidth="1px";document.body.appendChild(a.internal.moveItemFloat)}for(;a.internal.moveItemFloat.childNodes.length>0;)a.internal.moveItemFloat.removeChild(a.internal.moveItemFloat.childNodes[a.internal.moveItemFloat.childNodes.length-
1]);a.internal.moveItemFloat.style.width=a.internal.itemsContainer.childNodes[s].offsetWidth+"px";a.internal.moveItemFloat.style.height=a.internal.itemsContainer.childNodes[s].offsetHeight+"px";a.internal.moveItemFloat.innerHTML=a.internal.itemsContainer.childNodes[s].innerHTML;a.internal.moveItemIsFloating=true;a.internal.moveItemFloat.style.display="block"}if(a.internal.moveItemIsFloating){a.internal.moveItemFloat.style.left=r-a.internal.moveItemFloat.offsetWidth/2+"px";a.internal.moveItemFloat.style.top=
q-a.internal.moveItemFloat.offsetHeight/2+"px";if(p(a,r,q,true)){a.internal.moveItemFloat.style.display="none";a.internal.moveItemIsFloating=false}else for(var u=0;u<a.internal.draggableOrderedLists.length;u++)if((s=a.internal.draggableOrderedLists[u].glowOrderedList("getIndexByPosition",r,q))>=0){var A=a.internal.items[a.internal.moveItemLastIndex];e(a,m,true);t.remove.apply(g(a.internal.state),[A]);t.refresh.apply(g(a.internal.state),[]);g(a.internal.state).trigger(x.itemRemoved,A);a.internal.draggableOrderedLists[u].glowOrderedList("addDraggedItem",
A,s,m);a.internal.moveItemFloat.style.display="none";a.internal.moveItemIsFloating=false}}if(l(a)&&!a.internal.moveItemIsFloating){q=q-a.internal.moveStartY;q+=a.internal.itemsContainer.scrollTop-a.internal.moveScrollStartY;m=a.internal.moveItemStartIndex;if(q>0)for(q=q;m+1<a.internal.moveItemHeights.length&&q>a.internal.moveItemHeights[m+1];){m++;q-=a.internal.moveItemHeights[m]}else for(q=-q;m-1>=0&&q>a.internal.moveItemHeights[m-1];){m--;q-=a.internal.moveItemHeights[m]}s=m;if(s!=a.internal.moveItemLastIndex&&
s!=null){o(a,a.internal.moveItemLastIndex,s);a.internal.moveItemLastIndex=s;t.select.apply(g(a.internal.state),[s,true])}}}return false})}},e=function(a,b,h){for(b=0;b<a.internal.itemsContainer.childNodes.length;b++)a.internal.itemsContainer.childNodes[b].style.cursor="pointer";if(!h&&a.internal.moveItemStartIndex!=null&&a.internal.moveItemLastIndex!=null&&a.internal.moveItemStartIndex!=a.internal.moveItemLastIndex){h=a.internal.items[a.internal.moveItemLastIndex];b=a.internal.moveItemStartIndex;
var m=a.internal.moveItemLastIndex;g(a.internal.state).trigger(x.itemMoved,[h,b,m])}a.internal.itemsContainer.style.cursor="auto";a.internal.moveStartY=null;a.internal.moveItemLastIndex=null;a.internal.moveItemHeights=null;a.internal.moveItemStartIndex=null;g(document).unbind(".orderedList");if(a.internal.moveItemIsFloating){a.internal.moveItemIsFloating=false;a.internal.moveItemFloat.style.display="none"}for(b=0;b<a.internal.draggableOrderedLists.length;b++)a.internal.draggableOrderedLists[b].glowOrderedList("highlight",
false);t.highlight.apply(g(a.internal.state),[false])},c=function(a,b){var h=a.internal.itemsContainer.childNodes[b];if(h.offsetTop+h.offsetHeight>a.internal.itemsContainer.scrollTop+a.internal.itemsContainer.offsetHeight)a.internal.itemsContainer.scrollTop=h.offsetTop+h.offsetHeight-a.internal.itemsContainer.offsetHeight;else if(h.offsetTop<a.internal.itemsContainer.scrollTop)a.internal.itemsContainer.scrollTop=h.offsetTop},d=function(a){if(a.internal.state.offsetHeight){if(a.internal.state.disabled){a.internal.state.disabled=
false;a.internal.state.readonly=true}a.internal.backgroundColor=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"background-color","backgroundColor","#ffffff");if(a.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!="")a.internal.backgroundColor="#ffffff";a.internal.itemsContainer=document.createElement("div");a.internal.itemsContainer.className="glow-orderedlist";a.internal.itemsContainer.style.backgroundColor=a.internal.backgroundColor;a.internal.itemsContainer.style.fontFamily=
g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-family","fontFamily","Arial, Helvetica");a.internal.itemsContainer.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"font-size","fontSize","100%");a.internal.itemsContainer.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"line-height","lineHeight","100%");a.internal.itemsContainer.style.color=g.telligent.glow.utility.getCurrentStyleValue(a.internal.state,"color","color",
"#000000");a.internal.itemsContainer.style.borderStyle="outset";a.internal.itemsContainer.style.borderWidth="1px";a.internal.itemsContainer.style.borderColor="#999999";a.internal.itemsContainer.style.padding="2px";a.internal.itemsContainer.style.overflow="auto";a.internal.itemsContainer.style.overflowX="hidden";a.internal.itemsContainer.style.position="relative";a.internal.itemsContainer.style.width=a.settings.width<=4?a.internal.state.offsetWidth-4+"px":a.settings.width-4+"px";a.internal.itemsContainer.style.height=
a.settings.height<=4?a.internal.state.height-4+"px":a.settings.height-4+"px";a.internal.state.parentNode.insertBefore(a.internal.itemsContainer,a.internal.state);a.internal.items=[];for(var b=0;b<a.internal.state.options.length;b++)a.internal.items[a.internal.items.length]=b<a.settings.itemsHtml.length?new k({value:a.internal.state.options[b].value,text:a.internal.state.options[b].name,html:a.settings.itemsHtml[b]}):new k({value:a.internal.state.options[b].value,text:a.internal.state.options[b].name,
html:a.internal.state.options[b].name});a.internal.state.style.display="none";a.internal.initialized=true;t.disabled.apply(g(a.internal.state),[a.internal.state.readonly==true])}else window.setTimeout(function(){d(a)},249)},n=function(a,b){if(!l(a)){if(a.internal.selectedIndex!=b){a.internal.itemsContainer.childNodes[b].className="glow-orderedlist-hover";a.internal.itemsContainer.childNodes[b].style.backgroundColor="#cccccc";a.internal.itemsContainer.childNodes[b].style.borderColor="#666666"}a.internal.moveItemLastIndex=
b}},f=function(a,b){if(!l(a)){if(a.internal.selectedIndex!=b){a.internal.itemsContainer.childNodes[b].className="";a.internal.itemsContainer.childNodes[b].style.backgroundColor=a.internal.backgroundColor;a.internal.itemsContainer.childNodes[b].style.borderColor=a.internal.backgroundColor}a.internal.moveItemLastIndex=null}};g.fn.glowOrderedList=function(a){if(a in t)return t[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return w.apply(this,arguments);else g.error("Method "+
a+" does not exist on jQuery.fn.glowOrderedList")};g.extend({defaults:{width:200,height:300,itemsHtml:[],draggableOrderedLists:null}});var k=function(a){var b={value:"",text:"",html:a.text};a&&g.extend(b,a);this.text=b.text;this.value=b.value;this.html=b.html};k.prototype._clone=function(){return new k({value:this.value,text:this.text,html:this.html})}})(jQuery);
(function(g){var t=function(j){return this.each(function(){var e={settings:g.extend({},g.fn.glowPatternedTextBox.defaults,j||{}),internal:{state:g(this),patterns:[],initialized:false,matchRE:null,delayedValue:null,cursorSetTimeout:null}};g(this).data("_glowPatternedTextBox",e);var c=e.settings.pattern;if(e.internal.state){for(var d=e.internal.state.val(),n=RegExp("<([^<>]{1,}?)>","ig"),f,k=0,a="^";f=n.exec(c);){if(f.index>k){e.internal.patterns[e.internal.patterns.length]=new l(c.substr(k,f.index-
k),e.settings.blankCharacter,e.settings.allowBlanks,true);a+="("+e.internal.patterns[e.internal.patterns.length-1].getRegExpPattern()+")"}e.internal.patterns[e.internal.patterns.length]=new l(f[1],e.settings.blankCharacter,e.settings.allowBlanks,false);a+="("+e.internal.patterns[e.internal.patterns.length-1].getRegExpPattern()+")";k=n.lastIndex}if(k<c.length){e.internal.patterns[e.internal.patterns.length]=new l(c.substr(k,c.length-k),e.settings.blankCharacter,e.settings.allowBlanks,true);a+="("+
e.internal.patterns[e.internal.patterns.length-1].getRegExpPattern()+")"}a+="$";e.internal.state.is("input:disabled")?o.disabled.apply(e.internal.state,[true]):o.disabled.apply(e.internal.state,[false]);e.internal.matchRE=RegExp(a,"i");e.internal.initialized=true;o.val.apply(e.internal.state,[d])}})},x=function(j){j.internal.state.trigger("glowPatternedTextBoxChange")},w=function(j,e){for(var c=0,d=0;d<j.internal.patterns.length;d++)if(!j.internal.patterns[d].isStatic())if(c==e)return j.internal.patterns[d];
else c++},y=function(j,e){if(j.internal.initialized){var c="",d=j.internal.matchRE.exec(j.internal.state.val()),n={};if(d)for(var f=1;f<d.length&&f-1<j.internal.patterns.length;f++){c+=d[f];if((e<c.length||e==c.length&&(d[f].length<j.internal.patterns[f-1]._maxLength||f==j.internal.patterns.length))&&!j.internal.patterns[f-1].isStatic())if(n.currentPattern){n.nextPattern=j.internal.patterns[f-1];n.nextPatternStartIndex=c.length-d[f].length;n.nextPatternEndIndex=c.length;break}else{n.currentPattern=
j.internal.patterns[f-1];n.currentPatternStartIndex=c.length-d[f].length;n.currentPatternEndIndex=c.length}else if(!j.internal.patterns[f-1].isStatic()){n.previousPattern=j.internal.patterns[f-1];n.previousPatternStartIndex=c.length-d[f].length;n.previousPatternEndIndex=c.length}}return n}},v=function(j,e,c){if(j.settings.onValidation){var d=[],n=-1;c||(c="set");for(var f=0;f<j.internal.patterns.length;f++)if(!j.internal.patterns[f].isStatic()){d[d.length]=j.internal.patterns[f].getValue();if(e==
j.internal.patterns[f])n=d.length-1}(d=j.settings.onValidation(j.internal.state,d,c,n))&&o.setPatternValues.apply(j.internal.state,[d])}},p=function(j,e){if(!j.internal.initialized)return false;if(e.keyCode==38||e.keyCode==40||e.keyCode==37||e.keyCode==39||e.keyCode==9||e.keyCode==8){var c=g.telligent.glow.utility.getCurrentCursorIndex(j.internal.state);if((e.keyCode==37||e.keyCode==8)&&c>0)c--;e.keyCode==39&&c<j.internal.state.val().length&&c++;var d=y(j,c);if(d.currentPattern)if(e.keyCode==38){d.currentPattern.next();
v(j,d.currentPattern,"next");o.refresh.apply(j.internal.state,[]);d=y(j,c);d.currentPattern&&g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,d.currentPatternStartIndex,d.currentPatternEndIndex,true);x(j)}else if(e.keyCode==40){d.currentPattern.previous();v(j,d.currentPattern,"previous");o.refresh.apply(j.internal.state,[]);d=y(j,c);d.currentPattern&&g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,d.currentPatternStartIndex,d.currentPatternEndIndex,true);x(j)}else if(e.keyCode==
9)if(e.shiftKey)if(d.previousPattern)g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,d.previousPatternStartIndex,d.previousPatternEndIndex,true,j.internal.state.val());else return true;else if(d.nextPattern)g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,d.nextPatternStartIndex,d.nextPatternEndIndex,true,j.internal.state.val());else return true;else if(e.keyCode==37||e.keyCode==8)if(c<d.currentPatternStartIndex&&d.previousPattern)g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,
d.previousPatternEndIndex-1,d.previousPatternEndIndex,true,j.internal.state.val());else c>d.currentPatternStartIndex&&c<=d.currentPatternEndIndex?g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,c,d.currentPatternEndIndex,true,j.internal.state.val()):g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,d.currentPatternStartIndex,d.currentPatternEndIndex,true,j.internal.state.val());else if(e.keyCode==39)if(c>d.currentPatternEndIndex&&d.nextPattern)g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,
d.nextPatternStartIndex,d.nextPatternEndIndex,true,j.internal.state.val());else c>d.currentPatternStartIndex&&c<=d.currentPatternEndIndex?g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,c,d.currentPatternEndIndex,true,j.internal.state.val()):g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,d.currentPatternStartIndex,d.currentPatternEndIndex,true,j.internal.state.val());else g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,c,c,true,j.internal.state.val());
else g.telligent.glow.utility.setCurrentCursorSelection(j.internal.state,c,c,true,j.internal.state.val());e.stopPropagation();return false}else return true},o={getPatternValues:function(){var j=this.data("_glowPatternedTextBox");if(j){for(var e=[],c=0;c<j.internal.patterns.length;c++)j.internal.patterns[c].isStatic()||(e[e.length]=j.internal.patterns[c].getValue());return e}return null},getPatternValueOptionIndex:function(j,e){var c=this.data("_glowPatternedTextBox");if(c!==null){c=w(c,j);if(c!==
null&&c._patternType=="option"){e=e.toLowerCase();for(var d=0;d<c._options.length;d++)if(c._options[d].toLowerCase()==e)return d}}},getPatternValueOption:function(j,e){var c=this.data("_glowPatternedTextBox");if(c!==null){c=w(c,j);if(c!==null&&c._patternType=="option"&&e>=0&&e<c._options.length)return c._options[e]}},setPatternValues:function(j){return this.each(function(){for(var e=g(this).data("_glowPatternedTextBox"),c=0,d=0;d<e.internal.patterns.length&&c<j.length;d++)if(!e.internal.patterns[d].isStatic()){if(e.internal.patterns[d]._patternType==
"range"){for(var n=String(j[c]);n.length<e.internal.patterns[d]._minLength;)n="0"+n;e.internal.patterns[d].parseValue(n)}else e.internal.patterns[d].parseValue(j[c]);c++}o.refresh.apply(g(this),[])})},refresh:function(){return this.each(function(){var j=g(this).data("_glowPatternedTextBox");if(j.internal.initialized){for(var e="",c=0;c<j.internal.patterns.length;c++)e+=j.internal.patterns[c].getValue();j.internal.state.val(e)}})},val:function(j){if(j===undefined){var e=this.data("_glowPatternedTextBox");
if(e)if(e.internal.initialized){j="";for(var c=0;c<e.internal.patterns.length;c++)if(!e.internal.patterns[c].isStatic()&&!e.internal.patterns[c].hasValue())return null;else j+=e.internal.patterns[c].getValue();return j}return null}else return this.each(function(){var d=g(this).data("_glowPatternedTextBox");if(d.internal.initialized){var n=d.internal.matchRE.exec(j);if(n){for(var f=1;f<n.length&&f-1<d.internal.patterns.length;f++)d.internal.patterns[f-1].parseValue(n[f]);v(d)}o.refresh.apply(g(this),
[])}})},disabled:function(j){if(j===undefined){var e=this.data("_glowPatternedTextBox");if(e)return e.internal.state.is("input:disabled");return false}else return this.each(function(){var c=g(this).data("_glowPatternedTextBox");if(j)c.internal.state.unbind("keypress.glowPatternedTextBox").unbind("keyup.glowPatternedTextBox").unbind("focus.glowPatternedTextBox").unbind("keydown.glowPatternedTextBox").unbind("change.glowPatternedTextBox").attr("disabled","disabled");else{c.internal.state.unbind("keypress.glowPatternedTextBox").unbind("keyup.glowPatternedTextBox").unbind("focus.glowPatternedTextBox").unbind("keydown.glowPatternedTextBox").unbind("change.glowPatternedTextBox");
g.telligent.glow.utility.isOpera()&&c.internal.state.bind("keypress.glowPatternedTextBox",function(d){c.internal.initialized||d.stopPropagation()});c.internal.state.bind("keyup.glowPatternedTextBox",function(d){if(c.internal.initialized){if(d.keyCode!=38&&d.keyCode!=40&&d.keyCode!=37&&d.keyCode!=39&&d.keyCode!=9&&d.keyCode!=8){d=g.telligent.glow.utility.getCurrentCursorIndex(c.internal.state);o.val.apply(c.internal.state,[c.internal.state.val()]);var n=y(c,d);if(n.currentPattern)d>n.currentPatternStartIndex&&
d<=n.currentPatternEndIndex?g.telligent.glow.utility.setCurrentCursorSelection(c.internal.state,d,n.currentPatternEndIndex,true):g.telligent.glow.utility.setCurrentCursorSelection(c.internal.state,n.currentPatternStartIndex,n.currentPatternEndIndex,true);else g.telligent.glow.utility.setCurrentCursorSelection(c.internal.state,d,d,true);x(c)}}else d.stopPropagation()}).bind("focus.glowPatternedTextBox",function(d){d=d.shiftKey?y(c,c.internal.state.val().length):y(c,0);d.currentPattern&&g.telligent.glow.utility.setCurrentCursorSelection(c.internal.state,
d.currentPatternStartIndex,d.currentPatternEndIndex,false)}).bind("keydown.glowPatternedTextBox",function(d){p(c,d)}).bind("change.glowPatternedTextBox",function(){if(c.internal.initialized){o.val.apply(c.internal.state,[c.internal.state.val()]);x(c)}}).removeAttr("disabled")}})}},l=function(j,e,c,d){this._maxLength=this._minLength=0;this._options=[];this._rangeEnd=this._rangeStart=0;this._currentValue=this._patternType="";this._placeholder=e;this._allowBlanks=c;if(d){this._patternType="static";this._minLength=
this._maxLength=j.length;this._currentValue=j}else if(j.match(/^[0-9]{1,}\-[0-9]{1,}$/)){j=j.split("-");this._rangeStart=parseInt(j[0],10);this._rangeEnd=parseInt(j[1],10);this._patternType="range";this._minLength=String(j[0]).length;this._maxLength=String(j[1]).length;if(!this._allowBlanks)for(this._currentValue=String(this._rangeStart);this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else{this._options=j.split(",");this._patternType="option";this._minLength=String(this._options[0]).length;
this._maxLength=String(this._options[0]).length;for(j=0;j<this._options.length;j++){e=String(this._options[j]).length;if(e>this._maxLength)this._maxLength=e;if(e<this._minLength)this._minLength=e}if(!this._allowBlanks)this._currentValue=this._options[0]}};g.extend(l.prototype,{isStatic:function(){return this._patternType=="static"},next:function(){if(this._patternType!="static")if(this._patternType=="range"){if(this._currentValue==="")this._currentValue=String(this._rangeStart);else{var j=parseInt(this._currentValue,
10);this._currentValue=j<this._rangeEnd?String(j+1):String(this._rangeStart)}for(;this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else if(this._patternType=="option")if(this._currentValue=="")this._currentValue=this._options[0];else for(j=0;j<this._options.length;j++)if(this._options[j]==this._currentValue){this._currentValue=j<this._options.length-1?String(this._options[j+1]):String(this._options[0]);break}},previous:function(){if(this._patternType!="static")if(this._patternType==
"range"){if(this._currentValue==="")this._currentValue=String(this._rangeEnd);else{var j=parseInt(this._currentValue,10);this._currentValue=j>this._rangeStart?String(j-1):String(this._rangeEnd)}for(;this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else if(this._patternType=="option")if(this._currentValue==="")this._currentValue=this._options[this._options.length-1];else for(j=0;j<this._options.length;j++)if(this._options[j]==this._currentValue){this._currentValue=
j>0?String(this._options[j-1]):String(this._options[this._options.length-1]);break}},parseValue:function(j){if(this._patternType!="static"){j=String(j).replace(RegExp(g.telligent.glow.utility.escapeForRegExp(this._placeholder),"g"),"");if(this._allowBlanks&&j===""&&isNaN(parseInt(j,10)))return this._currentValue="";else if(this._patternType=="range"){if(j.length>this._maxLength)j=j.substr(0,this._maxLength);else for(;j.length<this._minLength;)j+="0";j=parseInt(j,10);if(isNaN(j))j=0;var e=false,c;
if(j>=this._rangeStart&&j<=this._rangeEnd){c=j;e=true}if(!e&&j<this._rangeStart&&j>0)for(var d=j;d<this._rangeStart&&String(d).length<=this._maxLength&&!e;){d*=10;if(d>=this._rangeStart&&d<=this._rangeEnd){c=d;e=true}}if(!e&&j>this._rangeEnd&&this._rangeEnd!==0)for(d=j;d>this._rangeEnd&&d>=this._rangeStart&&!e;){d=Math.round(d/10);if(d>=this._rangeStart&&d<=this._rangeEnd){c=d;e=true}}e||(c=j<this._rangeStart?this._rangeStart:this._rangeEnd);for(this._currentValue=String(c);this._currentValue.length<
this._minLength;)this._currentValue="0"+this._currentValue;return this._currentValue}else if(this._patternType=="option"){for(j=j.toLowerCase();j.length>0;){for(e=0;e<this._options.length;e++)if(this._options[e].substr(0,j.length).toLowerCase()==j)return this._currentValue=String(this._options[e]);if(j.length>0)j=j.substr(0,j.length-1)}return this._currentValue}}},getValue:function(){if(this._patternType=="static")return this._currentValue;else if(this._currentValue===""&&isNaN(parseInt(this._currentValue,
10))){for(var j="";j.length<this._minLength;)j+=this._placeholder;return j}else return this._currentValue},hasValue:function(){return!(this._currentValue===""&&isNaN(parseInt(this._currentValue,10)))},getRegExpPattern:function(){return this._patternType=="range"?"[0-9"+g.telligent.glow.utility.escapeForRegExp(this._placeholder)+"]{0,"+(this._maxLength+1)+"}":this._patternType=="option"?".{0,"+(this._maxLength+1)+"}":g.telligent.glow.utility.escapeForRegExp(this._currentValue)}});g.fn.glowPatternedTextBox=
function(j){if(j in o)return o[j].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof j==="object"||!j)return t.apply(this,arguments);else g.error("Method "+j+" does not exist on jQuery.fn.glowPatternedTextBox")};g.extend(g.fn.glowPatternedTextBox,{defaults:{pattern:"",allowBlanks:true,blankCharacter:"_",onValidation:null}})})(jQuery);
(function(g){var t={opened:"glowPopUpMenuOpened",closed:"glowPopUpMenuClosed",itemOver:"glowPopUpMenuItemOver"},x=function(f){return this.each(function(){var k={settings:g.extend({},g.fn.glowPopUpMenu.defaults,f||{}),internal:{state:this,menuItems:[],menuLevels:[],initialized:false,currentLevel:-1,isOpen:false,cancelClick:false,openingElement:null,closeTimeout:null}};g(this).data("popUpMenu",k);w(k,k.settings.menuItems,null)})},w=function(f,k){this._menuItems=[];if(!(!k||k.length==0))for(var a=0;a<
k.length;a++){f.internal.menuItems[a]=new d({id:k[a][0],text:k[a][1],url:k[a][2],target:k[a][3],onClick:k[a][4],iconUrl:k[a][5]});f.internal.menuItems[a]._popupMenu=g(this);k[a][6]&&k[a][6].length>0&&f.internal.menuItems[a]._parseMenuItems(k[a][6])}},y=function(f){g(document).bind("click.popUpMenu",function(){if(f.internal.isOpen&&!f.internal.menuLevels[f.internal.currentLevel]._popupPanel.glowPopUpPanel("isOpening")&&!f.internal.cancelClick)c.close.apply(g(f.internal.state),[0]);else f.internal.cancelClick=
false})},v=function(f){if(f.settings.closeOnMouseOut){window.clearTimeout(f.internal.closeTimeout);f.internal.closeTimeout=window.setTimeout(function(){c.close.apply(g(f.internal.state))},249)}},p=function(f){f.settings.closeOnMouseOut&&window.clearTimeout(f.internal.closeTimeout)},o=function(f,k){f.internal.cancelClick=true;if(k.onClick||k.url)c.close.apply(g(f.internal.state));k.onClick&&k.onClick(k);if(k.url)if(k.target)window.open(k.url,k.target);else window.location=k.url;return false},l=function(f,
k,a,b){if(!(f.internal.menuLevels.length<=a||f.internal.currentLevel==a&&f.internal.menuLevels[a]._currentMenuItem==k&&!b))if(f.internal.menuLevels[a]._currentMenuItem!=k){b||c.close.apply(g(f.internal.state),[a+1]);if(f.internal.menuLevels[a]._currentMenuItem&&f.internal.menuLevels[a]._currentMenuItem!=k)f.internal.menuLevels[a]._currentMenuItem._element.className=f.settings.itemCssClass;if(a>0&&f.internal.menuLevels[a-1]._currentMenuItem)f.internal.menuLevels[a-1]._currentMenuItem._element.className=
f.settings.itemExpandedCssClass;k._element.className=f.settings.itemSelectedCssClass;f.internal.menuLevels[a]._currentMenuItem=k;if(k._menuItems!=null&&k._menuItems.length>0){if(f.internal.menuLevels.length==a+1){var h=document.createElement("div");f.internal.state.appendChild(h);g(h).glowPopUpPanel({cssClass:f.settings.groupCssClass,position:"leftright",zIndex:f.settings.zIndex,hideOnDocumentClick:false}).bind({glowPopUpPanelHidden:g.telligent.glow.utility.makeBoundFunction(c.close,g(f.internal.state),
[a+1]),glowPopUpPanelMouseOver:function(){p(f)},glowPopUpPanelMouseOut:function(){v(f)}});f.internal.menuLevels[a+1]=new n(a+1,k,g(h),this)}else f.internal.menuLevels[a+1].MenuItem=k;e(f,f.internal.menuLevels[a+1],k._menuItems);f.internal.menuLevels[a+1]._popupPanel.glowPopUpPanel("show",k._element,b);f.internal.currentLevel=a+1}g(f.internal.state).trigger(t.itemOver)}else{b||c.close.apply(g(f.internal.state),[a+2]);if(f.internal.menuLevels[a+1]&&f.internal.menuLevels[a+1]._currentMenuItem){f.internal.menuLevels[a+
1]._currentMenuItem._element.className=f.settings.itemCssClass;f.internal.menuLevels[a+1]._currentMenuItem=null}f.internal.menuLevels[a]._currentMenuItem._element.className=f.settings.itemSelectedCssClass}},j=function(f){f.internal.menuLevels=[];var k=document.createElement("div");g(k).glowPopUpPanel({cssClass:f.settings.groupCssClass,position:f.settings.position,zIndex:f.settings.zIndex,hideOnDocumentClick:false}).bind({glowPopUpPanelHidden:function(){c.close.apply(g(f.internal.state),[0])},glowPopUpPanelMouseOver:function(){p(f)},
glowPopUpPanelMouseOut:function(){v(f)}});f.internal.menuLevels[0]=new n(0,null,g(k),this);e(f,f.internal.menuLevels[0],f.internal.menuItems);f.internal.initialized=true},e=function(f,k,a){if(k&&k._popupPanel){var b=k._popupPanel.glowPopUpPanel("children");if(b[0]&&b[0].childNodes[0]){b=b[0].childNodes[0];for(var h=0;h<b.childNodes.length;h++)if(b.childNodes[h].childNodes[0]&&b.childNodes[h].childNodes[0]._menuItem){b.childNodes[h].childNodes[0]._menuItem._element=null;b.childNodes[h].childNodes[0]._menuItem=
null;b.childNodes[h].childNodes[0].onmouseover=null;b.childNodes[h].childNodes[0].onclick=null}}}k._popupPanel.glowPopUpPanel("empty");k._currentMenuItem=null;if(!(!a||a.length==0)){b=document.createElement("table");b.cellPadding="0";b.cellSpacing="0";b.appendChild(document.createElement("tbody"));var m=false,q=false;for(h=0;h<a.length;h++){if(a[h].iconUrl)m=true;if(f.settings.expandImageUrl&&a[h]._menuItems&&a[h]._menuItems.length>0)q=true;if(m&&q)break}for(h=0;h<a.length;h++){var r=document.createElement("tr");
b.childNodes[0].appendChild(r);var s=document.createElement("td");s.className=f.settings.itemCssClass;s.id=a[h].id;s._menuItem=a[h];r.appendChild(s);var u=document.createElement("table");u.cellPadding="0";u.cellSpacing="0";u.style.width="100%";u.appendChild(document.createElement("tbody"));s.appendChild(u);r=document.createElement("tr");u.childNodes[0].appendChild(r);if(m){u=document.createElement("td");if(a[h].iconUrl){var A=document.createElement("img");A.src=a[h].iconUrl;A.style.paddingRight="4px";
if(f.settings.iconHeight)A.height=f.settings.iconHeight;if(f.settings.iconWidth)A.width=f.settings.iconWidth;u.appendChild(A)}else{u.appendChild(document.createElement("div"));u.childNodes[0].style.paddingRight="4px";if(f.settings.iconHeight)u.childNodes[0].style.height=f.settings.iconHeight+"px";if(f.settings.iconWidth)u.childNodes[0].style.width=f.settings.iconWidth+"px"}r.appendChild(u)}u=document.createElement("td");u.style.whiteSpace="nowrap";u.width="100%";u.innerHTML=a[h].text;r.appendChild(u);
if(q){u=document.createElement("td");if(f.settings.expandImageUrl&&a[h]._menuItems&&a[h]._menuItems.length>0){A=document.createElement("img");A.src=f.settings.expandImageUrl;A.style.paddingLeft="4px";if(f.settings.expandImageHeight)A.height=f.settings.expandImageHeight;if(f.settings.expandImageWidth)A.width=f.settings.expandImageWidth;u.appendChild(A)}else{u.appendChild(document.createElement("div"));u.childNodes[0].style.paddingRight="4px";if(f.settings.expandImageHeight)u.childNodes[0].style.height=
f.settings.expandImageHeight+"px";if(f.settings.expandImageWidth)u.childNodes[0].style.width=f.settings.expandImageWidth+"px"}r.appendChild(u)}s.onclick=g.telligent.glow.utility.makeBoundFunction(o,null,[f,a[h],k._level]);s.onmouseover=g.telligent.glow.utility.makeBoundFunction(l,null,[f,a[h],k._level]);a[h]._element=s}k._popupPanel.glowPopUpPanel("append",b)}},c={isOpen:function(){var f=this.data("popUpMenu");if(f)return f.internal.isOpen;return false},open:function(f,k,a,b){var h,m,q,r,s;if(typeof f===
"object"){s=f;f=g.telligent.glow.utility.getElementInfo(f);h=f.Left;m=f.Top;q=f.Width;r=f.Height}else{s=null;h=f;m=k;q=a;r=b}return this.each(function(){var u=g(this).data("popUpMenu");u.internal.initialized||j(u);u.internal.isOpen||window.setTimeout(function(){y(u)},49);u.internal.menuLevels[0]._popupPanel.glowPopUpPanel("show",h,m,q,r);u.internal.currentLevel=0;u.internal.isOpen=true;if(u.internal.openingElement=s){g(s).bind("mouseover.popUpMenu",function(){p(u)});g(s).bind("mouseout.popUpMenu",
function(){v(u)})}g(u.internal.state).trigger(t.opened)})},close:function(f){f||(f=0);return this.each(function(){var k=g(this).data("popUpMenu");if(f==0&&k.internal.openingElement){g(k.internal.openingElement).unbind(".popUpMenu");k.internal.openingElement=null}for(var a=k.internal.menuLevels.length-1;a>=f;a--)if(k.internal.menuLevels[a]){if(k.internal.menuLevels[a]._currentMenuItem){k.internal.menuLevels[a]._currentMenuItem._element.className=k.settings.itemCssClass;k.internal.menuLevels[a]._currentMenuItem=
null}k.internal.menuLevels[a]._popupPanel.glowPopUpPanel("hide")}k.internal.currentLevel=f-1;if(k.internal.currentLevel<=-1){k.internal.isOpen&&g(document).unbind(".popUpMenu");k.internal.isOpen=false;g(k.internal.state).trigger(t.closed)}})},refresh:function(){return this.each(function(){var f=g(this).data("popUpMenu");if(f.internal.initialized){var k=[],a;for(a=0;a<=f.internal.currentLevel;a++)k[a]=f.internal.menuLevels[a]._currentMenuItem;e(f,f.internal.menuLevels[0],f.internal.menuItems);if(k.length>
0){var b,h=f.internal.menuItems,m;for(a=0;a<k.length;a++){m=false;for(b=0;h&&b<h.length;b++)if(k[a]==h[b]){l(f,h[b],a,true);h=h[b]._menuItems;m=true;break}if(!m){h&&h.length>0?c.close.apply(g(this),[a+1]):c.close.apply(g(this),[a]);break}}}}})},add:function(f){if(f){c.remove.apply(this,[f]);var k=true;return this.each(function(){var a=g(this).data("popUpMenu"),b;if(k){b=f;k=false}else b=f._clone();b._popupMenu=g(this);b._parentMenuItem=null;a.internal.menuItems[a.internal.menuItems.length]=b})}else return this},
remove:function(f){return f?this.each(function(){for(var k=g(this).data("popUpMenu"),a=[],b=false,h=0;h<k.internal.menuItems.length;h++)if(k.internal.menuItems[h].id==f.id)b=true;else a[a.length]=k.internal.menuItems[h];if(b)k.internal.menuItems=a}):this},insert:function(f,k){if(popUpMenuItem){c.remove.apply(this,[popUpMenuItem]);return this.each(function(){for(var a=[],b=false,h=0;h<context.internal.menuItems.length;h++){if(h==k){b=true;popUpMenuItem._popupMenu=this;popUpMenuItem._parentMenuItem=
null;a[a.length]=popUpMenuItem}a[a.length]=context.internal.menuItems[h]}b||(a[a.length]=popUpMenuItem);context.internal.menuItems=a})}else return this},clear:function(){return this.each(function(){g(this).data("popUpMenu").internal.menuItems=[]})},getById:function(f){var k=g(this).data("popUpMenu");if(k)for(var a=0;a<k.internal.menuItems.length;a++)if(k.internal.menuItems[a].ID==f)return k.internal.menuItems[a];else{var b=k.internal.menuItems[a].getById(f);if(b)return b}return null},getByText:function(f){var k=
g(this).data("popUpMenu");if(k){for(var a=[],b=0;b<k.internal.menuItems.length;b++){if(k.internal.menuItems[b].Text==f)a[a.length]=k.internal.menuItems[b];for(var h=k.internal.menuItems[b].getByText(f),m=0;m<h.length;m++)a[a.length]=h[m]}return a}return[]},getByIndex:function(f){var k=g(this).data("popUpMenu");if(k)return f>=0&&f<k.internal.menuItems.length?k.internal.menuItems[f]:null;return null},getCurrent:function(){var f=g(this).data("popUpMenu");if(f)if(f.internal.currentLevel>-1)if(f.internal.menuLevels[f.internal.currentLevel]._currentMenuItem)return f.internal.menuLevels[f.internal.currentLevel]._currentMenuItem;
else if(f.internal.currentLevel>0)return f.internal.menuLevels[f.internal.currentLevel-1]._currentMenuItem;return null},getCurrentByLevel:function(f){var k=g(this).data("popUpMenu");if(k)if(f>0&&k.internal.currentLevel>=f)return k.internal.menuLevels[f]._currentMenuItem;return null},count:function(){var f=g(this).data("popUpMenu");if(f)return f.internal.menuItems.length;return 0},createMenuItem:function(f){return new d(f)}};g.fn.glowPopUpMenu=function(f){if(f in c)return c[f].apply(this,Array.prototype.slice.call(arguments,
1));else if(typeof f==="object"||!f)return x.apply(this,arguments);else g.error("Method "+f+" does not exist on jQuery.fn.glowPopUpMenu")};g.extend(g.fn.glowPopUpMenu,{defaults:{groupCssClass:"",itemCssClass:"",itemSelectedCssClass:"",itemExpandedCssClass:"",expandImageUrl:"",expandImageWidth:0,iconWidth:0,iconHeight:0,position:"updown",zIndex:100,menuItems:null,closeOnMouseOut:true}});var d=function(f){var k={id:(new Date).getTime(),text:"",url:"",target:"",onClick:null,iconUrl:""};f&&g.extend(k,
f);this.id=k.id;this.text=k.text;this.url=k.url;this.target=k.target;this.onClick=k.onClick;this.iconUrl=k.iconUrl;this._menuItems=[];this._parentMenuItem=this._popupMenu=this._element=null};d.prototype._clone=function(){return new d({id:this.id,text:this.text,url:this.url,target:this.target,onClick:this.onClick,iconUrl:this.iconUrl})};d.prototype.add=function(f){this.remove(f);if(f){f._popupMenu=this._popupMenu;f._parentMenuItem=this;this._menuItems[this._menuItems.length]=f}};d.prototype.remove=
function(f){for(var k=[],a=false,b=0;b<this._menuItems.length;b++)if(this._menuItems[b].id==f.id)a=true;else k[k.length]=this._menuItems[b];if(a)this._menuItems=k};d.prototype.clear=function(){this._menuItems=[]};d.prototype.insert=function(f,k){this.remove(f);for(var a=[],b=false,h=0;h<this._menuItems.length;h++){if(h==k){b=true;f._popupMenu=this._popupMenu;f._parentMenuItem=this;a[a.length]=f}a[a.length]=this._menuItems[h]}b||(a[a.length]=f);this._menuItems=a};d.prototype.getById=function(f){for(var k=
0;k<this._menuItems.length;k++)if(this._menuItems[k].ID==f)return this._menuItems[k];else{var a=this._menuItems[k].getById(f);if(a)return a}return null};d.prototype.getByText=function(f){for(var k=[],a=0;a<this._menuItems.length;a++){if(this._menuItems[a].Text==f)k[k.length]=this._menuItems[a];for(var b=this._menuItems[a].getByText(f),h=0;h<b.length;h++)k[k.length]=b[h]}return k};d.prototype.getByIndex=function(f){return f>=0&&f<this._menuItems.length?this._menuItems[f]:null};d.prototype.getPopUpMenu=
function(){return this._popupMenu};d.prototype.getParent=function(){return this._parentMenuItem};d.prototype.count=function(){return this._menuItems.length};d.prototype._parseMenuItems=function(f){this._menuItems=[];if(!(!f||f.length==0))for(var k=0;k<f.length;k++){this._menuItems[k]=new d({id:f[k][0],text:f[k][1],url:f[k][2],target:f[k][3],onClick:f[k][4],iconUrl:f[k][5]});this._menuItems[k]._popupMenu=this;f[k][6]&&f[k][6].length>0&&this._menuItems[k]._parseMenuItems(f[k][6])}};var n=function(f,
k,a,b){this._level=f;this._parentMenuItem=k;this._popupPanel=a;this._popupMenu=b;this._currentMenuItem=null}})(jQuery);
(function(g,t){var x={shown:"glowPopUpPanelShown",hidden:"glowPopUpPanelHidden",mouseOver:"glowPopUpPanelMouseOver",mouseOut:"glowPopUpPanelMouseOut"},w=function(e){return this.each(function(){var c={settings:g.extend({},g.fn.glowPopUpPanel.defaults,e||{}),internal:{state:g(this),isShown:false,initialized:false,lastPosition:null,panel:null,panelMask:null,animationHandle:null,isOpening:false,checkForScrollResizeHandle:null,lastWindowInfo:null}};g(this).data("_glowPopUpPanel",c);c.internal.panel=g("<div></div>").css({position:"absolute",
display:"none",left:"0px",top:"0px"}).addClass(c.settings.CssClass).append(c.internal.state.children());c.internal.panelMask=g("<div></div>").css({position:"absolute",display:"none"}).append(c.internal.panel);c.internal.state.css({display:"none"})})},y=function(e){g(document).bind("click.glowPopUpPanel",function(){l(e)})},v=function(e){if(e.settings.hideOnResize){e.internal.checkForScrollResizeHandle&&t.clearTimeout(e.internal.checkForScrollResizeHandle);if(e.internal.isShown&&!e.internal.isOpening&&
e.internal.lastWindowInfo){var c=g.telligent.glow.utility.getWindowInfo();if(c.Width!=e.internal.lastWindowInfo.Width||c.Height!=e.internal.lastWindowInfo.Height||c.ScrollX!=e.internal.lastWindowInfo.ScrollX||c.ScrollY!=e.internal.lastWindowInfo.ScrollY)e.internal.showTarget?j.show.apply(e.internal.state,[e.internal.showTarget,true]):j.hide.apply(e.internal.state);e.internal.checkForScrollResizeHandle=t.setTimeout(function(){v(e)},99)}}},p=function(e){document.forms.length==1?g("form:first").append(e.internal.panelMask):
g("body").append(e.internal.panelMask);e.internal.panel.bind("mouseover.glowPopUpPanel",function(){e.internal.state.trigger(x.mouseOver)}).bind("mouseout.glowPopUpPanel",function(){e.internal.state.trigger(x.mouseOut)});e.internal.initialized=true},o=function(e,c,d,n,f,k){e.internal.animationHandle&&t.clearTimeout(e.internal.animationHandle);currValue=parseInt(e.internal.panel.css(c),10);if(f<0&&currValue<d||f>0&&currValue>d||Math.abs(f)<1){e.internal.panel.css("propertyName",d+"px").css({position:"static",
overflow:"visible"});e.internal.animationHandle=null;e.internal.isOpening=false;e.internal.lastWindowInfo=g.telligent.glow.utility.getWindowInfo();e.internal.checkForScrollResizeHandle=t.setTimeout(function(){v(e)},99)}else{e.internal.panel.css(c,n+"px");n+=f;if(f>0&&n>d)n=d;else if(f<0&&n<d)n=d;f*=k;e.internal.animationHandle=t.setTimeout(function(){o(e,c,d,n,f,k)},19)}},l=function(e){e&&e.internal&&e.internal.isShown&&!e.internal.isOpening&&t.setTimeout(function(){j.hide.apply(e.internal.state)},
499)},j={isShown:function(){var e=this.data("_glowPopUpPanel");return e&&e.internal.isShown},isOpening:function(){var e=this.data("_glowPopUpPanel");return e&&e.internal.isOpening},show:function(e,c,d,n,f){var k,a,b,h,m,q=false,r;if(typeof e==="object"){r=e;if(e instanceof jQuery)r=e.get(0);e=g.telligent.glow.utility.getElementInfo(r);k=e.Left;a=e.Top;b=e.Width;h=e.Height;m=c;q=d}else{k=e;a=c;b=d;h=n;m=f}return this.each(function(){var s=g(this).data("_glowPopUpPanel");s.internal.initialized||p(s);
s.internal.showTarget=null;if(r)s.internal.showTarget=r;!s.internal.isShown&&s.settings.hideOnDocumentClick&&t.setTimeout(function(){y(s)},49);!m&&s.internal.isShown?j.hide.apply(s.internal.state):g.telligent.glow.utility.showSelectBoxes(s.internal.panelMask);var u=k,A=a;s.internal.panelMask.css({position:"absolute",zIndex:s.settings.zIndex,display:"block",visibility:"hidden",overflow:"visible"});s.internal.panel.css({position:"absolute",display:"block",visibility:"hidden",left:"0px",top:"0px"}).addClass(s.settings.cssClass);
var z=s.internal.panel.outerWidth(),B=s.internal.panel.outerHeight();q||s.internal.panelMask.css({width:z+"px",height:B+"px"});s.internal.lastWindowInfo=g.telligent.glow.utility.getWindowInfo();var C,D,E=s.settings.position.indexOf("left"),F=s.settings.position.indexOf("right"),G=s.settings.position.indexOf("up"),H=s.settings.position.indexOf("down"),I=s.settings.position.indexOf("center");if(E===0||F===0||I===0){if(!(E>-1&&F==-1)&&(F>-1&&E==-1||s.internal.lastWindowInfo.Width+s.internal.lastWindowInfo.ScrollX-
(k+b)>k-s.internal.lastWindowInfo.ScrollX||k-s.internal.lastWindowInfo.ScrollX<z)){s.internal.panelMask.css({left:k+b+"px"});C="left";D=0;z=-z}else if(I>-1){s.internal.panelMask.css({left:k-z/2+"px"});C="left";D=0;z=z/2}else{s.internal.panelMask.css({left:k-z+"px"});C="left";D=0;z=z}!(G>-1&&H==-1)&&(H>-1&&G==-1||s.internal.lastWindowInfo.Height+s.internal.lastWindowInfo.ScrollY-a>a+h-s.internal.lastWindowInfo.ScrollY||a+h-s.internal.lastWindowInfo.ScrollY<B)?s.internal.panelMask.css({top:a+"px"}):
s.internal.panelMask.css({top:a+h-B+"px"})}else{if(I>-1)s.internal.panelMask.css({left:Math.max(k+(b-z)/2,0)+"px"});else!(E>-1&&F==-1)&&(F>-1&&E==-1||s.internal.lastWindowInfo.Width+s.internal.lastWindowInfo.ScrollX-k>k+b-s.internal.lastWindowInfo.ScrollX||k+b-s.internal.lastWindowInfo.ScrollX<z)?s.internal.panelMask.css({left:k+"px"}):s.internal.panelMask.css({left:k+b-z+"px"});if(!(G>-1&&H==-1)&&(H>-1&&G==-1||s.internal.lastWindowInfo.Height+s.internal.lastWindowInfo.ScrollY-(a+h)>a-s.internal.lastWindowInfo.ScrollY||
a-s.internal.lastWindowInfo.ScrollY<B)){s.internal.panelMask.css({top:a+h+"px"});C="top";D=0;z=-B}else{s.internal.panelMask.css({top:a-B+"px"});C="top";D=0;z=B}}s.internal.panel.css({visibility:"visible"});s.internal.panelMask.css({visibility:"visible",overflow:"hidden"});g.telligent.glow.utility.hideSelectBoxes(s.internal.panelMask);this._isOpening=true;if(m)s.internal.animationHandle=t.setTimeout(function(){o(s,C,D,D,0,0)},9);else o(s,C,D,z,z>D?-((z-D)/3):(D-z)/3,0.67);if(!s.internal.isShown){s.internal.isShown=
true;s.internal.lastPosition={X:u,Y:A,Width:b,Height:h};g(s.internal.state).trigger(x.shown)}})},hide:function(){return this.each(function(){var e=g(this).data("_glowPopUpPanel");if(e&&e.internal&&e.internal.isShown){e.internal.initialized||p(e);e.internal.panel.css({position:"absolute",display:"none"});e.internal.panelMask.css({position:"absolute",display:"none"});e.internal.isShown=false;e.internal.lastPosition=null;g.telligent.glow.utility.showSelectBoxes(e.internal.panelMask);e.settings.hideOnDocumentClick&&
g(document).unbind(".glowPopUpPanel");e.internal.state.trigger(x.hidden)}})},empty:function(){return this.each(function(){g(this).data("_glowPopUpPanel").internal.panel.empty()}).glowPopUpPanel("refresh")},html:function(e){return this.each(function(){g(this).data("_glowPopUpPanel").internal.panel.html(e)}).glowPopUpPanel("refresh")},append:function(e){e=g(e);var c=true;return this.each(function(){var d=g(this).data("_glowPopUpPanel");if(c){g(d.internal.panel).append(e);c=false}else g(d.internal.panel).append(e.clone())}).glowPopUpPanel("refresh")},
remove:function(e){return g(e).remove().glowPopUpPanel("refresh")},children:function(){var e=this.data("_glowPopUpPanel");if(e)return e.internal.panel.children();return g()},refresh:function(){return this.each(function(){var e=g(this).data("_glowPopUpPanel");e.internal.animationHandle&&t.clearTimeout(e.internal.animationHandle);if(e.internal.isShown&&e.internal.lastPosition)e.internal.showTarget?j.show.apply(e.internal.state,[e.internal.showTarget,true]):j.show.apply(e.internal.state,[e.internal.lastPosition.X,
e.internal.lastPosition.Y,e.internal.lastPosition.Width,e.internal.lastPosition.Height,true])})}};g.fn.glowPopUpPanel=function(e){if(e in j)return j[e].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof e==="object"||!e)return w.apply(this,arguments);else g.error("Method "+e+" does not exist on jQuery.fn.glowPopUpPanel")};g.extend(g.fn.glowPopUpPanel,{defaults:{cssClass:"",position:"updown",zIndex:100,hideOnDocumentClick:true,hideOnResize:true}})})(jQuery,window);
(function(g){var t={refresh:function(){return this.each(function(){var o=g(this).data("tabbedPanes");o.internal.isRendered=false;var l=o.internal.selectedTab;o.internal.selectedTab=null;if(o.settings.enableResizing){o.internal.state.style.width="100%";o.internal.state.style.height="100%";o.internal.state.style.overflow="auto"}else{o.internal.state.style.width="auto";o.internal.state.style.height="auto";o.internal.state.style.overflow="visible"}o.internal.paneContainer.className=o.settings.cssClass;
o.internal.tabSet.glowTabSet("clear");for(var j=0;j<o.internal.tabs.length;j++){if(!o.internal.tabs[j]._tabsetTab){var e=o.internal.tabSet.glowTabSet("createTab",{id:o.internal.tabs[j].id,text:o.internal.tabs[j].text,cssClass:o.internal.tabs[j].cssClass,onClick:g.telligent.glow.utility.makeBoundFunction(w,null,[o,o.internal.tabs[j]])});o.internal.tabs[j]._tabsetTab=e;e._tabbedPanesTab=o.internal.tabs[j]}if(!o.internal.tabs[j]._tabPane){e=document.createElement("div");o.internal.paneContainer.appendChild(e);
o.internal.tabs[j]._tabPane=e}if(!o.internal.tabs[j].disabled){o.internal.tabSet.glowTabSet("add",o.internal.tabs[j]._tabsetTab);if(l&&o.internal.tabs[j].id==l.id)l=o.internal.selectedTab=o.internal.tabs[j]}}if(o.internal.selectedTab==null&&o.internal.tabSet.glowTabSet("count")>0){l=o.internal.selectedTab=o.internal.tabSet.glowTabSet("getByIndex",0)._tabbedPanesTab;o.internal.tabSet._selectedTab=o.internal.tabSet.glowTabSet("getByIndex",0)}o.internal.tabSet.glowTabSet("refresh");for(j=0;j<o.internal.tabs.length;j++)if(o.internal.tabs[j].disabled)y(o,
o.internal.tabs[j]._tabPane,false);else if(o.internal.tabs[j].id==l.id){l=o.internal.selectedTab=o.internal.tabs[j];o.internal.tabSet.glowTabSet("selected",o.internal.tabs[j]._tabsetTab);y(o,o.internal.tabs[j]._tabPane,true)}else y(o,o.internal.tabs[j]._tabPane,false);o.internal.isRendered=true})},add:function(o){t.remove.apply(this,[o,true]);var l=true;return this.each(function(){if(l)l=false;else o=o._clone();var j=g(this).data("tabbedPanes");o._tabbedPanes=this;if(!o._tabPane){var e=document.createElement("div");
j.internal.paneContainer.appendChild(e);o._tabPane=e}j.internal.tabs[j.internal.tabs.length]=o})},remove:function(o,l){return this.each(function(){for(var j=g(this).data("tabbedPanes"),e=[],c=false,d=0;d<j.internal.tabs.length;d++)if(j.internal.tabs[d].id==o.id){if(j.internal.tabs[d]._tabPane){j.internal.paneContainer.removeChild(j.internal.tabs[d]._tabPane);if(l===false)j.internal.tabs[d]._tabPane=null}c=true}else e[e.length]=j.internal.tabs[d];if(c)j.internal.tabs=e})},clear:function(){return this.each(function(){for(var o=
g(this).data("tabbedPanes"),l=0;l<o.internal.tabs.length;l++)if(o.internal.tabs[l]._tabPane){o.internal.paneContainer.removeChild(o.internal.tabs[l]._tabPane);o.internal.tabs[l]._tabPane=null}o.internal.tabs=[]})},insert:function(o,l){t.remove(this,[o,true]);var j=true;return this.each(function(){if(j)j=false;else o=o._clone();for(var e=g(this).data("tabbedPanes"),c=[],d=false,n=0;n<e.internal.tabs.length;n++){if(n==l){d=true;o._tabbedPanes=this;if(!o._tabPane){var f=document.createElement("div");
e.internal.paneContainer.insertBefore(f,e.internal.paneContainer.childNodes[n+1]);o._tabPane=f}c[c.length]=o}c[c.length]=e.internal.tabs[n]}if(d)e.internal.tabs=c;else t.add.apply(g(this),o)})},getById:function(o){var l=this.data("tabbedPanes");if(l)for(var j=0;j<l.internal.tabs.length;j++)if(l.internal.tabs[j].id==o)return l.internal.tabs[j];return null},getByText:function(o){var l=[],j=this.data("tabbedPanes");j&&g.each(j.internal.tabs,function(e,c){c.text===o&&l.push(c)});return l},getByIndex:function(o){var l=
this.data("tabbedPanes");if(l&&o>=0&&o<l.internal.tabs.length)return l.internal.tabs[o];return null},count:function(){var o=this.data("tabbedPanes");if(o)return o.internal.tabs.length;return 0},selected:function(o){if(o===undefined){var l=this.data("tabbedPanes");if(l)return l.internal.selectedTab;return null}else{if(!o)return this;return this.each(function(){var j=g(this).data("tabbedPanes"),e=t.getById.apply(g(this),[o.id]);e&&j.internal.tabSet.glowTabSet("selected",e._tabsetTab)})}},createTab:function(o){return new p(o)}},
x=function(o){return this.each(function(){var l={settings:g.extend({},g.fn.glowTabbedPanes.defaults,o||{}),internal:{state:this,tabSet:null,tabs:[],isRendered:false,selectedTab:null,paneContainer:null,previousContainerOffsetWidth:-1}};for(l.internal.paneContainer=document.createElement("div");this.childNodes.length>0;)l.internal.paneContainer.appendChild(this.childNodes[0]);var j=document.createElement("div");this.appendChild(j);this.appendChild(l.internal.paneContainer);l.internal.tabSet=g(j).glowTabSet({cssClass:l.settings.tabSetCssClass,
tabCssClasses:l.settings.tabCssClasses,tabSelectedCssClasses:l.settings.tabSelectedCssClasses,tabHoverCssClasses:l.settings.tabHoverCassClasses,enableResizing:l.settings.enableResizing,tabs:[]}).bind("glowTabSetResize",function(){g(l.internal.state).trigger("glowTabbedPanesResize")});g(this).data("tabbedPanes",l);v(l,l.settings.tabs,null);l.internal.tabs.length>0&&t.refresh.apply(g(this))})},w=function(o,l){if(l.onClick){hadHandler=true;if(l.onClick(g(o.internal.state),l)==false)return false}if(l!=
o.internal.selectedTab){l._tabPane&&y(o,l._tabPane,true);o.internal.selectedTab&&o.internal.selectedTab._tabPane&&y(o,o.internal.selectedTab._tabPane,false);o.internal.selectedTab=l}},y=function(o,l,j){if(j){l.style.visibility="visible";l.style.position="static";l.style.left="0px";if(o.settings.enableResizing){l.style.width="100%";l.style.height="100%";l.style.overflow="auto"}else{l.style.width="auto";l.style.height="auto";l.style.overflow="visible"}}else{l.style.width=l.offsetWidth+"px";l.style.height=
l.offsetHeight+"px";l.style.overflow="hidden";l.style.position="absolute";l.style.left=l.offsetWidth*-4+"px";l.style.top=l.offsetHeight*-4+"px";l.style.visibility="hidden"}},v=function(o,l,j){o.internal.tabs=[];o.internal.tabSet.glowTabSet("clear");if(!(!l||l.length==0)){var e=-1;for(i=0;i<l.length;i++){o.internal.tabs[i]=new p({id:l[i][0],text:l[i][1],onClick:l[i][2],disabled:l[i][3],cssClass:l[i][4]});for(e++;e<o.internal.paneContainer.childNodes.length&&o.internal.paneContainer.childNodes[e].nodeType!=
1;)e++;if(e<o.internal.paneContainer.childNodes.length)o.internal.tabs[i]._tabPane=o.internal.paneContainer.childNodes[e];else{var c=document.createElement("div");o.internal.paneContainer.appendChild(c);o.internal.tabs[i]._tabPane=c}o.internal.tabs[i]._tabbedPanes=this;if(o.internal.tabs[i].id==j)o.internal.selectedTab=o.internal.tabs[i]}}};g.fn.glowTabbedPanes=function(o){if(o in t)return t[o].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof o==="object"||!o)return x.apply(this,
arguments);else g.error("Method "+o+" does not exist on jQuery.fn.glowTabbedPanes")};g.extend(g.fn.glowTabbedPanes,{defaults:{cssClass:"",tabSetCssClass:"",tabCssClasses:[],tabSelectedCssClasses:[],tabHoverCssClasses:[],enableResizing:true,tabs:[]}});var p=function(o){var l={id:(new Date).getTime(),text:"",onClick:null,cssClass:null,disabled:false};o&&g.extend(l,o);this.id=l.id;this.text=l.text;this.onClick=l.onClick;this.disabled=l.disabled;this.cssClass=l.cssClass;this._tabbedPanes=this._tabsetTab=
this._tabPane=null};p.prototype.empty=function(){g(this._tabPane).empty()};p.prototype.html=function(o){this.empty();g(this._tabPane).html(o)};p.prototype.append=function(o){context.internal.tabPane.appendChild(o)};p.prototype.remove=function(o){context.internal.tabPane.removeChild(o)};p.prototype.children=function(){return context.internal.tabPane.childNodes}})(jQuery);
(function(g){var t={refresh:function(){return this.each(function(){var d=g(this).data("tabSet");d.internal.isRendered=false;y(d);hiddenContainer=document.createElement("div");hiddenContainer.style.visibility="hidden";hiddenContainer.style.position="absolute";for(d.internal.state.appendChild(hiddenContainer);hiddenContainer.childNodes.length>0;)hiddenContainer.removeChild(hiddenContainer.childNodes[0]);var n=document.createElement("table");n.cellPadding="0";n.border="0";n.cellSpacing="0";n.appendChild(document.createElement("tbody"));
n.childNodes[0].appendChild(document.createElement("tr"));hiddenContainer.appendChild(n);var f=1;if(typeof d.settings.tabHoverCssClasses=="object"&&d.settings.tabHoverCssClasses.length>f)f=d.settings.tabHoverCssClasses.length;if(typeof d.settings.tabSelectedCssClasses=="object"&&d.settings.tabSelectedCssClasses.length>f)f=d.settings.tabSelectedCssClasses.length;if(typeof d.settings.tabCssClasses=="object"&&d.settings.tabCssClasses.length>f)f=d.settings.tabCssClasses.length;for(var k=0,a=0,b=0;b<d.internal.tabs.length;b++){var h=
document.createElement("td"),m=document.createElement("a");m.href="#";m.style.display="block";m.style.color="#000000";m.style.textDecoration="none";h.appendChild(m);var q=m;for(m=0;m<f;m++){q.appendChild(document.createElement("div"));q=q.childNodes[0]}q.innerHTML=d.internal.tabs[b].text;d.internal.tabs[b].cssClass&&g(h).addClass(d.internal.tabs[b].cssClass);n.childNodes[0].childNodes[0].appendChild(h);h._tab=d.internal.tabs[b];d.internal.tabs[b]._element=h;v(d,h.childNodes[0],d.settings.tabHoverCssClasses);
h._tab._maxWidth=h.offsetWidth;v(d,h.childNodes[0],d.settings.tabSelectedCssClasses);if(h._tab._maxWidth<h.offsetWidth)h._tab._maxWidth=h.offsetWidth;v(d,h.childNodes[0],d.settings.tabCssClasses);if(h._tab._maxWidth<h.offsetWidth)h._tab._maxWidth=h.offsetWidth;k+=h._tab._maxWidth;if(h._tab._maxWidth>a)a=h._tab._maxWidth}f=Math.ceil(d.internal.tabs.length/Math.ceil((k*3/d.internal.state.offsetWidth+a*d.internal.tabs.length/d.internal.state.offsetWidth)/4));if(f<1)f=1;for(;d.internal.state.childNodes.length>
0;)d.internal.state.removeChild(d.internal.state.childNodes[0]);d.internal.state.className=d.settings.cssClass;k=document.createElement("div");if(d.settings.enableResizing){k.style.width="100%";k.style.overflow="hidden"}d.internal.state.appendChild(k);d.internal.tabRows=[];a=d.internal.selectedTab;d.internal.selectedTabRow=null;d.internal.selectedTab=null;m=-1;for(b=0;b<d.internal.tabs.length;b++){if(m==-1||d.settings.enableResizing&&(d.internal.tabRows[m]._tabs.length==f||d.internal.tabRows[m]._element.offsetWidth+
d.internal.tabs[b]._maxWidth>k.offsetWidth&&d.internal.tabRows[m]._tabs.length>0)){n=document.createElement("table");n.cellPadding="0";n.border="0";n.cellSpacing="0";n.appendChild(document.createElement("tbody"));n.childNodes[0].appendChild(document.createElement("tr"));k.appendChild(n);m++;d.internal.tabRows[m]=new c(n)}d.internal.tabRows[m]._element.childNodes[0].childNodes[0].appendChild(d.internal.tabs[b]._element);d.internal.tabRows[m]._tabs[d.internal.tabRows[m]._tabs.length]=d.internal.tabs[b];
d.internal.tabs[b]._tabRow=d.internal.tabRows[m];d.internal.tabs[b]._element.childNodes[0].onclick=g.telligent.glow.utility.makeBoundFunction(l,null,[d,d.internal.tabs[b],m]);d.internal.tabs[b]._element.childNodes[0].onmouseover=g.telligent.glow.utility.makeBoundFunction(p,null,[d,d.internal.tabs[b],m]);d.internal.tabs[b]._element.childNodes[0].onmouseout=g.telligent.glow.utility.makeBoundFunction(o,null,[d,d.internal.tabs[b],m]);if(d.internal.tabs[b]==a){d.internal.selectedTab=d.internal.tabs[b];
d.internal.selectedTabRow=d.internal.tabRows[m];v(d,d.internal.tabs[b]._element.childNodes[0],d.settings.tabSelectedCssClasses)}}if(d.internal.tabRows.length>1){for(b=0;b<d.internal.tabRows.length;b++)d.internal.tabRows[b]._element.style.width="100%";if(d.internal.selectedTabRow){k.removeChild(d.internal.selectedTabRow._element);k.appendChild(d.internal.selectedTabRow._element)}}d.internal.isRendered=true;if(d.internal.tabs.length>0){d.internal.resizeCheckHandle&&window.clearTimeout(d.internal.resizeCheckHandle);
d.internal.resizeCheckHandle=window.setTimeout(function(){j(d)},49)}})},add:function(d){t.remove.apply(this,[d]);var n=true;return this.each(function(){if(n)n=false;else d=d._clone();var f=g(this).data("tabSet");if(d){d._tabSet=this;f.internal.tabs[f.internal.tabs.length]=d}})},remove:function(d){return this.each(function(){for(var n=g(this).data("tabSet"),f=[],k=false,a=0;a<n.internal.tabs.length;a++)if(n.internal.tabs[a].id==d.id)k=true;else f[f.length]=n.internal.tabs[a];if(k)n.internal.tabs=f})},
clear:function(){return this.each(function(){g(this).data("tabSet").internal.tabs=[]})},insert:function(d,n){t.remove.apply(this,[d]);var f=true;return this.each(function(){if(f)f=false;else d=d._clone();for(var k=[],a=false,b=0;b<context.internal.tabs.length;b++){if(b==n){a=true;d._tabSet=this;k[k.length]=d}k[k.length]=context.internal.tabs[b]}a||(k[k.length]=d);context.internal.tabs=k})},getById:function(d){var n=this.data("tabSet");if(n)for(var f=0;f<n.internal.tabs.length;f++)if(n.internal.tabs[f].id==
d)return n.internal.tabs[f];return null},getByText:function(d){var n=[];this.each(function(){for(var f=g(this).data("tabSet"),k=0;k<f.internal.tabs.length;k++)if(f.internal.tabs[k].text==d)n[n.length]=f.internal.tabs[k]});return n},getByIndex:function(d){var n=this.data("tabSet");if(n&&d>=0&&d<n.internal.tabs.length)return n.internal.tabs[d];return null},count:function(){var d=this.data("tabSet");if(d)return d.internal.tabs.length;return 0},selected:function(d){if(d===undefined){var n=this.data("tabSet");
if(n)return n.internal.selectedTab;return null}else{if(!d)return this;return this.each(function(){var f=g(this).data("tabSet"),k=t.getById.apply(g(this),[d.id]);k&&l(f,k)})}},createTab:function(d){return new e(d)}},x=function(d){return this.each(function(){var n={settings:g.extend({},g.fn.glowTabSet.defaults,d||{}),internal:{state:this,selectedTab:null,selectedTabRow:null,tabs:[],tabRows:[],resizeCheckHandle:null,isRendered:false,previousContainerOffsetWidth:-1}};g(this).data("tabSet",n);w(n,n.settings.tabs,
null);n.internal.tabs.length>0&&t.refresh.apply(g(this))})},w=function(d,n,f){if(typeof f=="undefined"&&d.internal.selectedTab)f=d.internal.selectedTab.id;d.internal.tabs=[];if(!(!n||n.length==0))for(var k=0;k<n.length;k++){d.internal.tabs[k]=new e({id:n[k][0],text:n[k][1],url:n[k][2],onClick:n[k][3],cssClass:n[k][4]});d.internal.tabs[k]._tabSet=this;if(d.internal.tabs[k].id==f)d.internal.selectedTab=d.internal.tabs[k]}},y=function(d){for(var n=0;n<d.internal.tabRows.length;n++)if(d.internal.tabRows[n]&&
d.internal.tabRows[n]._element){if(d.internal.tabRows[n]._element.childNodes[0]&&d.internal.tabRows[n]._element.childNodes[0].childNodes[0])for(var f=d.internal.tabRows[n]._element.childNodes[0].childNodes[0],k=0;k<f.childNodes.length;k++)if(f.childNodes[k]&&f.childNodes[k]._tab){f.childNodes[k]._tab._element=null;f.childNodes[k]._tab=null;f.childNodes[k].onclick=null;f.childNodes[k].onmouseover=null;f.childNodes[k].onmouseout=null}d.internal.tabRows[n]._element=null}},v=function(d,n,f){if(typeof f==
"object")for(d=0;n&&d<f.length;){n.className=f[d];d++;n=n.childNodes[0]}else if(n)n.className=f},p=function(d,n){n!=d.internal.selectedTab&&v(d,n._element.childNodes[0],d.settings.tabHoverCssClasses);return false},o=function(d,n){n!=d.internal.selectedTab&&v(d,n._element.childNodes[0],d.settings.tabCssClasses);return false},l=function(d,n){if(n.onClick){hadHandler=true;if(n.onClick(g(d.internal.state),n)==false)return false}if(n!=d.internal.selectedTab){d.internal.selectedTab&&v(d,d.internal.selectedTab._element.childNodes[0],
d.settings.tabCssClasses);d.internal.selectedTab=n;v(d,n._element.childNodes[0],d.settings.tabSelectedCssClasses);if(d.internal.tabRows.length>1){d.internal.selectedTabRow=null;for(var f=0;f<d.internal.tabRows.length;f++){for(var k=0;k<d.internal.tabRows[f]._tabs.length;k++)if(d.internal.tabRows[f]._tabs[k]==d.internal.selectedTab){d.internal.selectedTabRow=d.internal.tabRows[f];break}if(d.internal.selectedTabRow)break}if(d.internal.selectedTabRow){d.internal.state.childNodes[0].removeChild(d.internal.selectedTabRow._element);
d.internal.state.childNodes[0].appendChild(d.internal.selectedTabRow._element)}}else d.internal.selectedTabRow=d.internal.tabRows[0]}if(n.url)try{window.location=n.url}catch(a){}return false},j=function(d){d.internal.resizeCheckHandle&&window.clearTimeout(d.internal.resizeCheckHandle);if(d.settings.enableResizing&&d.internal.isRendered&&d.internal.state.offsetWidth!=d.internal.previousContainerOffsetWidth){t.refresh.apply(g(d.internal.state));d.internal.previousContainerOffsetWidth=d.internal.state.offsetWidth;
g(d.internal.state).trigger("glowTabSetResize")}d.internal.resizeCheckHandle=window.setTimeout(function(){j(d)},999)};g.fn.glowTabSet=function(d){if(d in t)return t[d].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof d==="object"||!d)return x.apply(this,arguments);else g.error("Method "+d+" does not exist on jQuery.fn.glowTabSet")};g.extend(g.fn.glowTabSet,{defaults:{cssClass:"",tabCssClasses:[],tabSelectedCssClasses:[],tabHoverCssClasses:[],enableResizing:true,tabs:[]}});var e=
function(d){var n={id:(new Date).getTime(),text:"",url:"",cssClass:null,onClick:null};d&&g.extend(n,d);this.id=n.id;this.text=n.text;this.url=n.url;this.onClick=n.onClick;this.cssClass=n.cssClass;this._maxWidth=0;this._tabSetRow=this._tabSet=this._element=null};e.prototype._clone=function(){return new e({id:this.id,text:this.text,url:this.url,onClick:this.onClick})};var c=function(d){this._element=d;this._tabs=[];this._tabSet=null}})(jQuery);
(function(g){var t=[],x=[],w=function(p,o){for(var l=null,j=-1,e=0;e<t.length&&l===null;e++)if(t[e]){if(t[e].SelectElement==o)l=t[e]}else j=e;if(l===null){l={};l.SelectElement=o;l.ElementsHidingSelectsIndeces=[];l.OriginalVisibility=o.style.visibility;l.SelectElement.style.visibility="hidden";if(j==-1){t[t.length]=l;l.Index=t.length-1}else{t[j]=l;l.Index=j}}j=false;for(e=0;e<l.ElementsHidingSelectsIndeces.length&&!j;e++)if(l.ElementsHidingSelectsIndeces[e]==p.Index)j=true;if(!j){p.HiddenSelectsIndeces[p.HiddenSelectsIndeces.length]=
l.Index;l.ElementsHidingSelectsIndeces[l.ElementsHidingSelectsIndeces.length]=p.Index}},y=function(p){for(var o=null,l=-1,j=0;j<x.length&&o===null;j++)if(x[j]){if(x[j].Element==p)o=x[j]}else l=j;if(o===null){o={};o.Element=p;o.HiddenSelectsIndeces=[];if(l==-1){x[x.length]=o;o.Index=x.length-1}else{x[l]=o;o.Index=l}}return o},v={convertHsvColorToRgbColor:function(p){var o=p[0],l=p[1];p=p[2];var j,e,c;if(l===0)return[p,p,p];var d;d=o==360?0:o;d/=60;o=Math.floor(d);var n=d-o;d=p*(1-l);var f=p*(1-l*n);
l=p*(1-l*(1-n));if(o===0){j=p;e=l;c=d}if(o===1){j=f;e=p;c=d}if(o===2){j=d;e=p;c=l}if(o===3){j=d;e=f;c=p}if(o===4){j=l;e=d;c=p}if(o===5){j=p;e=d;c=f}j=Math.round(j);e=Math.round(e);c=Math.round(c);return[j,e,c]},convertRgbColorToHsvColor:function(p){var o=p[0],l=p[1];p=p[2];var j,e,c=Math.max(Math.max(o,l),p),d=c-Math.min(Math.min(o,l),p);e=c===0?0:d/c;if(e===0)j=0;else if(o==c)j=60*(l-p)/d;else if(l==c)j=120+60*(p-o)/d;else if(p==c)j=240+60*(o-l)/d;if(j<0)j+=360;return[j,e,c]},convertDecimalToHexadecimal:function(p,
o){for(var l="",j;p>0;){j=p%16;l="0123456789abcdef".substr(j,1)+l;p-=j;p/=16}if(o)for(;l.length<o;)l="0"+l;return l},convertHtmlColorToRgbColor:function(p){p=p.replace(/[^0-9a-f]/ig,"");return p.length==3?[parseInt(p.substr(0,1)+p.substr(0,1),16),parseInt(p.substr(1,1)+p.substr(1,1),16),parseInt(p.substr(2,1)+p.substr(2,1),16)]:p.length==6?[parseInt(p.substr(0,2),16),parseInt(p.substr(2,2),16),parseInt(p.substr(4,2),16)]:[255,255,255]},convertRgbColorToHtmlColor:function(p){return"#"+v.convertDecimalToHexadecimal(p[0],
2)+v.convertDecimalToHexadecimal(p[1],2)+v.convertDecimalToHexadecimal(p[2],2)},getContrastingHtmlColorForRgbColor:function(p){return p[0]*2+p[1]*5+p[2]>1024?"#000000":"#ffffff"},getElementInfo:function(p){if(p instanceof jQuery)p=p.get(0);var o={};if(p.getBoundingClientRect){p=p.getBoundingClientRect();var l=0,j=0;if(typeof window.pageXOffset=="number"){l=window.pageXOffset;j=window.pageYOffset}else if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){l=document.body.scrollLeft;
j=document.body.scrollTop}else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){l=document.documentElement.scrollLeft;j=document.documentElement.scrollTop}o.Left=p.left+l;o.Top=p.top+j;o.Right=p.right+l;o.Bottom=p.bottom+j;if(v.isIE()&&o.Left>=2&&!v.isIE8()){o.Left-=2;o.Top-=2;o.Right-=2;o.Bottom-=2}o.Width=p.right-p.left;o.Height=p.bottom-p.top}else{j=l=0;for(var e=p,c=false,d=false,n=v.isIE();e;){c||(l+=e.offsetLeft);d||(j+=e.offsetTop);if(n&&
e.offsetParent&&e.offsetParent.style.position=="relative")if(!e.offsetParent.style.width){c=true;if(e.offsetParent.style.top||e.offsetParent.style.bottom){j+=e.offsetHeight;d=true}}e=e.offsetParent}o.Left=l;o.Top=j;o.Right=l+p.offsetWidth;o.Bottom=l+p.offsetHeight;o.Width=p.offsetWidth;o.Height=p.offsetHeight}return o},getWindowInfo:function(p){p||(p=window);var o=0,l=0,j=0,e=0,c=0,d=0;if(typeof p.pageXOffset=="number"){o=p.pageXOffset;l=p.pageYOffset}else if(p.document.body&&(p.document.body.scrollLeft||
p.document.body.scrollTop)){o=p.document.body.scrollLeft;l=p.document.body.scrollTop}else if(p.document.documentElement&&(p.document.documentElement.scrollLeft||p.document.documentElement.scrollTop)){o=p.document.documentElement.scrollLeft;l=p.document.documentElement.scrollTop}if(typeof p.innerWidth=="number"){j=p.innerWidth;e=p.innerHeight}else if(p.document.documentElement&&(p.document.documentElement.clientWidth||p.document.documentElement.clientHeight)){j=p.document.documentElement.clientWidth;
e=p.document.documentElement.clientHeight}else if(p.document.body&&(p.document.body.clientWidth||p.document.body.clientHeight)){j=p.document.body.clientWidth;e=p.document.body.clientHeight}if(p.document.body&&(p.document.body.scrollHeight||p.document.body.offsetHeight))if(p.document.body.scrollHeight||p.document.body.scrollWidth){c=p.document.body.scrollWidth;d=p.document.body.scrollHeight}else{c=p.document.body.offsetWidth;d=p.document.body.offsetHeight}if(p.document.documentElement&&(p.document.documentElement.scrollHeight||
p.document.documentElement.offsetHeight))if(p.document.documentElement.scrollHeight||p.document.documentElement.scrollWidth){if(p.document.documentElement.scrollWidth>c)c=p.document.documentElement.scrollWidth;if(p.document.documentElement.scrollHeight>d)d=p.document.documentElement.scrollHeight}else{if(p.document.documentElement.offsetWidth>c)c=p.document.documentElement.offsetWidth;if(p.document.documentElement.offsetHeight>d)d=p.document.documentElement.offsetHeight}if(c==0&&d==0){c=j;d=e}if(v.isSafari()){if(e>
d)d=e}else if(e>d)e=d;if(v.isSafari()){if(j>c)c=j}else if(j>c)j=c;p={};p.ScrollX=o;p.ScrollY=l;p.Width=j;p.Height=e;p.ContentWidth=c;p.ContentHeight=d;return p},getCurrentStyleValue:function(p,o,l,j){if(p instanceof jQuery)p=p.get(0);var e="";try{if(document.defaultView&&document.defaultView.getComputedStyle)e=document.defaultView.getComputedStyle(p,"").getPropertyValue(o);else if(p.currentStyle)e=p.currentStyle[l]}catch(c){}return(e=="inherit"||e=="transparent")&&p.parentNode!==null?v.getCurrentStyleValue(p.parentNode,
o,l,j):e!==""&&e!==undefined&&e!="rgba(0, 0, 0, 0)"?e:j},getStyleOffset:function(p){if(p instanceof jQuery)p=p.get(0);var o={};o.Height=v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"border-top-width","borderTopWidth","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"border-bottom-width","borderBottomWidth","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"padding-top","paddingTop","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"padding-bottom","paddingBottom",
"0"),10),0);o.Width=v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"border-left-width","borderLeftWidth","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"border-right-width","borderRightWidth","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"padding-left","paddingLeft","0"),10),0)+v.isNanDefault(parseInt(v.getCurrentStyleValue(p,"padding-right","paddingRight","0"),10),0);return o},isNanDefault:function(p,o){return isNaN(p)?o:p},escapeForRegExp:function(p){return p.replace(/([\\\(\^\$\*\+\?\{\}\.\)\|\-])/g,
"\\$1")},getSelectedHtmlInElement:function(p,o,l,j){var e=true,c=null;if(window.getSelection){var d=window.getSelection();if(d&&d.rangeCount>0&&d.toString().length>0){e=false;d=d.getRangeAt(0);var n=document.createRange();n.selectNode(p);if(n.compareBoundaryPoints(Range.START_TO_START,d)<=0&&n.compareBoundaryPoints(Range.END_TO_END,d)>=0){j=document.createElement("div");j.appendChild(d.cloneContents());c=j.innerHTML}else j&&alert(j)}}else if(document.selection)if((d=document.selection.createRange())&&
d.text){e=false;n=d.parentElement();if(n!==null&&v.elementContainsElement(p,n))c=d.htmlText;else j&&alert(j)}if(c===null&&(e&&o||l))c=p.innerHTML;return c},elementContainsElement:function(p,o){if(p instanceof jQuery)p=p.get(0);if(o instanceof jQuery)o=o.get(0);if(!p||!o)return false;if(p==o)return true;if(p&&p.childNodes)for(var l=0;l<p.childNodes.length;l++)if(p.childNodes[l]==o||v.elementContainsElement(p.childNodes[l],o))return true;return false},getCurrentCursorIndex:function(p){if(p instanceof
jQuery)p=p.get(0);var o=0;if(p.selectionStart||p.selectionStart=="0")o=p.selectionStart;else if(document.selection){var l=p.value;o=document.selection.createRange();var j=String.fromCharCode(1);o.text=j;o=p.value.indexOf(j);p.value=l}return o},isSafari:function(){return navigator.userAgent.indexOf("Safari")!=-1},isOpera:function(){return window.opera!==null},isIE:function(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!=-1},isIE8:function(){if(v.isIE())return parseInt(/MSIE ([0-9]*)\./.exec(navigator.userAgent)[1],
9)>=8;return false},setCurrentCursorSelection:function(p,o,l,j,e){if(p instanceof jQuery)p=p.get(0);if(v.isSafari()||v.isOpera())if(j){(j=g(p).data("telligentUtility"))&&j.CursorTimeout&&window.clearTimeout(j.CursorTimeout);j={};j.InputElement=p;j.StartIndex=o;j.EndIndex=l;j.PersistedValue=e;g(p).data("telligentUtility",j);j.CursorTimeout=window.setTimeout(function(){var n=p,f=g(n).data("telligentUtility");if(f){v.setCurrentCursorSelection(f.InputElement,f.StartIndex,f.EndIndex,false,f.PersistedValue);
g(n).data("telligentUtility",null)}},9);return}else{p.focus();if(e)p.value=e}try{if(document.selection){var c=p.createTextRange();c.move("character",o);c.moveEnd("character",l-o);c.select()}else if(p.setSelectionRange){p.setSelectionRange(o,l);p.focus()}else if(p.selectionStart||p.selectionStart=="0"){p.selectionStart=o;p.selectionEnd=l}}catch(d){}},hideElementsInWindow:function(p,o,l){if(p instanceof jQuery)p=p.get(0);for(var j=null,e=v.getElementInfo(p),c=o.document.getElementsByTagName("iframe"),
d=0;d<c.length;d++)if(!v.elementContainsElement(p,c[d]))try{v.hideElementsInWindow(p,c[d].contentWindow,l)}catch(n){o=v.getElementInfo(c[d]);if(l||o.Top<e.Bottom&&e.Top<o.Bottom&&o.Left<e.Right&&e.Left<o.Right){if(j===null)j=y(p);w(j,c[d]);c[d].style.visibility="hidden"}}c=["object","embed","applet"];if(v.isIE())c[c.length]="select";for(d=0;d<c.length;d++)for(var f=document.getElementsByTagName(c[d]),k=0;k<f.length;k++)if(!v.elementContainsElement(p,f[k])){o=v.getElementInfo(f[k]);if(l||o.Top<e.Bottom&&
e.Top<o.Bottom&&o.Left<e.Right&&e.Left<o.Right){if(j===null)j=y(p);w(j,f[k]);f[k].style.visibility="hidden"}}},hideSelectBoxes:function(p,o){if(p instanceof jQuery)p=p.get(0);v.hideElementsInWindow(p,window.window,o)},showSelectBoxes:function(p){if(p instanceof jQuery)p=p.get(0);for(var o=null,l=0;l<x.length&&o===null;l++)if(x[l])if(x[l].Element==p)o=x[l];if(o!==null){for(l=0;l<o.HiddenSelectsIndeces.length;l++)if(p=t[o.HiddenSelectsIndeces[l]])if(p.ElementsHidingSelectsIndeces.length==1){try{if(p.SelectElement.style.visibility==
"hidden")p.SelectElement.style.visibility=p.OriginalVisibility}catch(j){}t[p.Index]=null}else{for(var e=[],c=0;c<p.ElementsHidingSelectsIndeces.length;c++)if(p.ElementsHidingSelectsIndeces[c]!=o.Index)e[e.length]=p.ElementsHidingSelectsIndeces[l];p.ElementsHidingSelectsIndeces=e}x[o.Index]=null}},makeBoundFunction:function(p,o,l){return function(){return p.apply(o,l)}}};if(typeof g.telligent==="undefined")g.telligent={};if(typeof g.telligent.glow==="undefined")g.telligent.glow={};if(typeof g.telligent.glow.utility===
"undefined")g.telligent.glow.utility=v})(jQuery);
(function(g){g.fn.glowTransition=function(t,x){var w=g(t).hide(),y=g.extend({},g.fn.glowTransition.defaults,x||{});return this.each(function(){var v=g(this),p={width:v.outerWidth(),height:v.outerHeight(),left:v.css("left"),top:v.css("top"),position:"relative",overflow:"hidden"},o={rawWidth:w.width(),rawHeight:w.height(),width:w.outerWidth(),height:w.outerHeight()};v.wrap(g("<div></div>").css(p)).css({position:"absolute"});var l=v.parent(),j={position:"absolute"},e={},c={};if(y.resize){g.extend(j,
{width:p.width,height:p.height});g.extend(e,{width:o.width,height:o.height});g.extend(c,{width:o.rawWidth,height:o.rawHeight})}switch(y.type){case "slideLeft":j.left="+"+o.width+"px";e.left="-="+o.width;c.left=0;break;case "slideRight":j.left="-"+o.width+"px";e.left="+="+o.width;c.left=0;break;case "slideUp":j.top="+"+o.height+"px";e.top="-="+o.height;c.top=0;break;case "slideDown":j.top="-"+o.height+"px";e.top="+="+o.height;c.top=0;break;case "fade":j.opacity=0;e.opacity=0;c.opacity=1}w.prependTo(l).css(j).show();
v.stop().animate(e,y.duration);w.stop().animate(c,y.duration+1,function(){w.css({position:"static",top:"0px",left:"0px"}).unwrap();v.remove();y.complete()});l.stop().animate({width:o.width,height:o.height},y.duration)})};g.fn.glowTransition.defaults={complete:function(){},duration:200,resize:true,type:"fade"}})(jQuery);
(function(g){var t={nodeSelected:"glowTreeNodeSelected",contextMenu:"glowTreeContextMenu",nodeRemoved:"glowTreeNodeRemoved",nodeMoved:"glowTreeNodeMoved",nodeAdded:"glowTreeNodeAdded"},x=function(b){return this.each(function(){var h={settings:g.extend({},g.fn.glowTree.defaults,b||{}),internal:{state:this,wrapper:null,container:null,selectedNode:null,nodes:[],backgroundColor:null,movingNode:null,movingNodeStartParent:null,draggingInitialized:false,pagePosition:null,movingNodeIsFloating:false,movingNodeFloat:null,
nodeHeightsCache:null,movingNodeStartIndex:null,movingNodeLastIndex:null,moveStartY:null,moveScrollStartY:null,draggableTrees:[],initialized:false}};g(this).data("tree",h);o(h)})},w=function(b,h){for(var m=0;m<b.internal.nodes.length;m++)b.internal.nodes[m]._setCursor(h);b.internal.wrapper.style.cursor=h},y=function(b,h,m,q){b.internal.pagePosition==null&&d(b);var r=b.internal.pagePosition.Left,s=b.internal.pagePosition.Left+b.internal.pagePosition.Width,u=b.internal.pagePosition.Top;b=b.internal.pagePosition.Top+
b.internal.pagePosition.Height;if(q){r-=10;s+=10;u-=10;b+=10}return h>r&&h<s&&m>u&&m<b},v=function(b,h){return h.expanded()&&h.count()>0?h._element.offsetHeight-h._element.childNodes[2].offsetHeight:h._element.offsetHeight},p=function(b,h,m){for(var q=0;q<h.length;q++)if(h[q]._element)if(h[q]===m){var r={};r.parentNode=h[q]._parent;r.height=h[q]._element.offsetHeight;r.index=q;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=r;b.internal.movingNodeStartIndex=b.internal.nodeHeightsCache.length-
1;b.internal.movingNodeLastIndex=b.internal.nodeHeightsCache.length-1}else{r={};r.parentNode=h[q]._parent;r.height=v(b,h[q]);r.index=q;r.isBeforeNode=h[q]._parent==m._parent;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=r;var s=r.height*0.25;if(h[q].expanded())if(h[q]._nodes.length>0)p(b,h[q]._nodes,m);else if(h[q].canHaveChildren()){r.height-=s;var u={};u.parentNode=h[q];u.height=s;u.index=0;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=u}u=null;if(h[q]._parent==
m._parent){u={};u.parentNode=h[q]._parent;u.height=r.height;u.index=q;u.isAfterNode=true;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=u}if(q==h.length-1){r.height-=s;if(u)u.height=r.height;r={};r.parentNode=h[q]._parent;r.height=s;r.index=q+1;b.internal.nodeHeightsCache[b.internal.nodeHeightsCache.length]=r}}},o=function(b){if(b.internal.state.offsetHeight){if(b.internal.state.disabled){b.internal.state.disabled=false;b.internal.state.readonly=true}b.internal.backgroundColor=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,
"background-color","backgroundColor","#ffffff");if(b.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!="")b.internal.backgroundColor="#ffffff";b.internal.wrapper=document.createElement("div");b.internal.wrapper.className="glow-tree";b.internal.wrapper.style.backgroundColor=b.internal.backgroundColor;b.internal.wrapper.style.fontFamily=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,"font-family","fontFamily","Arial, Helvetica");b.internal.wrapper.style.fontSize=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,
"font-size","fontSize","100%");b.internal.wrapper.style.lineHeight=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,"line-height","lineHeight","100%");b.internal.wrapper.style.color=g.telligent.glow.utility.getCurrentStyleValue(b.internal.state,"color","color","#000000");b.internal.wrapper.style.borderStyle="outset";b.internal.wrapper.style.borderWidth="1px";b.internal.wrapper.style.borderColor="#999999";b.internal.wrapper.style.padding="2px";b.internal.wrapper.style.overflow="auto";
b.internal.wrapper.style.width=b.internal.state.offsetWidth-4+"px";b.internal.wrapper.style.height=b.internal.state.offsetHeight-4+"px";b.internal.wrapper.style.cursor="default";b.internal.wrapper.style.position="relative";b.internal.container=document.createElement("ul");b.internal.container.style.listStyleType="none";b.internal.container.style.margin="0";b.internal.container.style.whiteSpace="nowrap";b.internal.container.style.padding="0";b.internal.wrapper.appendChild(b.internal.container);b.internal.state.parentNode.insertBefore(b.internal.wrapper,
b.internal.state);l(b,null,b.internal.state.options,0,b.settings.nodeHtml,0);b.internal.state.style.display="none";b.internal.initialized=true;k.disabled.apply(g(b.internal.state),[b.internal.state.readonly===true]);if(b.internal.state.selectedIndex>=0){var h=k.getByValue.apply(g(b.internal.state),[b.internal.state.options[b.internal.state.selectedIndex].value]);h&&k.selected.apply(g(b.internal.state),[h])}}else window.setTimeout(function(){o(b)},249)},l=function(b,h,m,q,r,s){var u,A,z,B;for(A=q;A<
m.length;A++){var C=m[A].text;if(B=C.match(/^(\-*) /)){z=B[1].length/2;C=C.substr(B[1].length)}else z=0;if(z==s){z=m[A].value;(u=r.shift())||(u=C);u=new a({html:u,value:z});if(h)h.add(u);else{u._parent=null;u._treeContext=b;b.internal.nodes[b.internal.nodes.length]=u}}else if(z>s&&u)A+=l(b,u,m,A,r,s+1);else return A-q-1}return m.length-q-1},j=function(b,h,m){var q,r;if(m){r=h._element;m=r.offsetTop;q=v(b,h);h=r.offsetLeft}else{r=h._element.childNodes[1];m=r.offsetTop;q=v(b,h);h=r.offsetLeft-h._element.childNodes[0].offsetWidth}m-=
6;h-=6;for(var s=r.offsetParent;s&&s!=b.internal.wrapper;){m+=s.offsetTop;h+=s.offsetLeft;s=s.offsetParent}s=b.internal.wrapper.offsetWidth-24;if(h+r.offsetWidth>b.internal.wrapper.scrollLeft+s&&r.offsetWidth<s)b.internal.wrapper.scrollLeft=h;else if(h<b.internal.wrapper.scrollLeft||h+r.offsetWidth>b.internal.wrapper.scrollLeft+s)b.internal.wrapper.scrollLeft=h;r=b.internal.wrapper.offsetHeight-24;if(m+q>b.internal.wrapper.scrollTop+r&&q<r)b.internal.wrapper.scrollTop=m+q-r;else if(m<b.internal.wrapper.scrollTop||
m+q>b.internal.wrapper.scrollTop+r)b.internal.wrapper.scrollTop=m},e=function(b){b.internal.draggableTrees=[];b.settings.draggableTrees&&b.settings.draggableTrees.each(function(){try{if(g(this).glowTree("disabled")===false)b.internal.draggableTrees[b.internal.draggableTrees.length]=g(this)}catch(h){}})},c=function(b){d(b);e(b);var h;for(h=0;h<b.internal.draggableTrees.length;h++)b.internal.draggableTrees[h].glowTree("highlight",true);b.internal.draggableTrees.length>0?w(b,"move"):w(b,"n-resize");
b.internal.draggingInitalized=true},d=function(b){b.internal.pagePosition=g.telligent.glow.utility.getElementInfo(b.internal.wrapper)},n=function(b,h,m){if(!h)h=window.event;if(b.internal.movingNode==null){b.internal.movingNode=m;b.internal.movingNodeStartParent=m.getParent();b.internal.draggingInitalized=false;if(typeof h.pageY!="undefined")b.internal.moveStartY=h.pageY;else{var q=g.telligent.glow.utility.getWindowInfo();b.internal.moveStartY=h.clientY+q.ScrollY}b.internal.moveScrollStartY=b.internal.wrapper.scrollTop;
b.internal.nodeHeightsCache=[];b.internal.wrapper.style.overflow="hidden";p(b,b.internal.nodes,m);g(document).bind("mouseup.glowTree",function(r){f(b,r);return false}).bind("mousemove.glowTree",function(r){r=r;if(!r)r=window.event;var s=0,u=0;if(typeof r.pageY!="undefined"){s=r.pageY;u=r.pageX}else{u=g.telligent.glow.utility.getWindowInfo();s=r.clientY+u.ScrollY;u=r.clientX+u.ScrollX}if(b.internal.movingNode!=null){b.internal.draggingInitalized||c(b);var A=s-b.internal.moveStartY;A+=b.internal.wrapper.scrollTop-
b.internal.moveScrollStartY;var z=b.internal.movingNodeStartIndex,B=A;A={};A.parentNode=null;A.index=-1;A.nodeHeightsCacheIndex=z;if(b.internal.nodeHeightsCache&&z>=0&&z<b.internal.nodeHeightsCache.length){z=z;for(var C=B>0,D=false;!D;)if(B>0)if(z<b.internal.nodeHeightsCache.length-1&&(B>b.internal.nodeHeightsCache[z+1].height||b.internal.nodeHeightsCache[z+1].isBeforeNode)){z++;b.internal.nodeHeightsCache[z].isBeforeNode||(B-=b.internal.nodeHeightsCache[z].height)}else D=true;else if(B<0)if(z>0&&
(-B>b.internal.nodeHeightsCache[z-1].height||b.internal.nodeHeightsCache[z-1].isAfterNode)){z--;b.internal.nodeHeightsCache[z].isAfterNode||(B+=b.internal.nodeHeightsCache[z].height)}else D=true;else D=true;if(C)for(;b.internal.nodeHeightsCache[z].isBeforeNode&&z>0;)z--;else for(;b.internal.nodeHeightsCache[z].isAfterNode&&z<b.internal.nodeHeightsCache.length-1;)z++;A.parentNode=b.internal.nodeHeightsCache[z].parentNode;A.index=b.internal.nodeHeightsCache[z].index;A.nodeHeightsCacheIndex=z}if(b.internal.draggableTrees.length>
0&&!b.internal.movingNodeIsFloating&&!y(b,u,s,true)){B=b.internal.movingNode;if(!b.internal.movingNodeFloat){b.internal.movingNodeFloat=document.createElement("div");b.internal.movingNodeFloat.style.position="absolute";b.internal.movingNodeFloat.style.opacity=".75";if(g.telligent.glow.utility.isIE())b.internal.movingNodeFloat.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=75)";b.internal.movingNodeFloat.style.backgroundColor="#cccccc";b.internal.movingNodeFloat.style.borderColor="#666666";
b.internal.movingNodeFloat.style.fontFamily=b.internal.wrapper.style.fontFamily;b.internal.movingNodeFloat.style.fontSize=b.internal.wrapper.style.fontSize;b.internal.movingNodeFloat.style.lineHeight=b.internal.wrapper.style.lineHeight;b.internal.movingNodeFloat.style.color=b.internal.wrapper.style.color;b.internal.movingNodeFloat.style.padding="2px";b.internal.movingNodeFloat.style.cursor="move";b.internal.movingNodeFloat.style.borderStyle="dotted";b.internal.movingNodeFloat.style.borderWidth="1px";
document.body.appendChild(b.internal.movingNodeFloat)}for(;b.internal.movingNodeFloat.childNodes.length>0;)b.internal.movingNodeFloat.removeChild(b.internal.movingNodeFloat.childNodes[b.internal.movingNodeFloat.childNodes.length-1]);b.internal.movingNodeFloat.style.width=B._element.offsetWidth+"px";b.internal.movingNodeFloat.style.height=B._element.offsetHeight+"px";b.internal.movingNodeFloat.innerHTML=B._element.innerHTML;b.internal.movingNodeIsFloating=true;b.internal.movingNodeFloat.style.display=
"block"}if(b.internal.movingNodeIsFloating){b.internal.movingNodeFloat.style.left=u-b.internal.movingNodeFloat.offsetWidth/2+"px";b.internal.movingNodeFloat.style.top=s-b.internal.movingNodeFloat.offsetHeight/2+"px";if(y(b,u,s,true)){b.internal.movingNodeFloat.style.display="none";b.internal.movingNodeIsFloating=false}else{B=null;for(z=0;z<b.internal.draggableTrees.length;z++)if((B=b.internal.draggableTrees[z].glowTree("getParentAndIndex",u,s)).index!=-1){C=b.internal.movingNode;f(b,r,true);k.remove.apply(g(b.internal.state),
[C]);k.refresh.apply(g(b.internal.state),[]);g(b.internal.state).trigger(t.nodeRemoved,[C]);b.internal.draggableTrees[z].glowTree("addDraggedNode",C,B.parentNode,B.index,r);b.internal.movingNodeFloat.style.display="none";b.internal.movingNodeIsFloating=false}}}if(b.internal.movingNode!=null&&!b.internal.movingNodeIsFloating&&A.nodeHeightsCacheIndex!=b.internal.movingNodeLastIndex){b.internal.movingNodeLastIndex=A.nodeHeightsCacheIndex;s=b.internal.movingNode._parent;A.parentNode?A.parentNode.insert(b.internal.movingNode,
A.index):k.insert.apply(g(b.internal.state),[b.internal.movingNode,A.index]);b:{u=A.parentNode;r=[];for(s=s;s;){r[r.length]=s;s=s._parent}for(s=u;s;){for(u=r.length-1;u>=0;u--)if(r[u]==s){r=s;break b}s=s._parent}r=null}r?r.refresh():k.refresh.apply(g(b.internal.state),[]);k.selected.apply(g(b.internal.state),[b.internal.movingNode])}}return false})}},f=function(b,h,m){w(b,"default");!m&&b.internal.movingNode&&b.internal.movingNodeStartIndex!=b.internal.movingNodeLastIndex&&g(b.internal.state).trigger(t.nodeMoved,
[b.internal.movingNode,b.internal.movingNodeStartParent]);b.internal.wrapper.style.cursor="auto";b.internal.wrapper.style.overflow="auto";g(document).unbind(".glowTree");b.internal.movingNode=null;b.internal.nodeHeightsCache=[];if(b.internal.movingNodeIsFloating){b.internal.movingNodeIsFloating=false;b.internal.movingNodeFloat.style.display="none"}for(h=0;h<b.internal.draggableTrees.length;h++)b.internal.draggableTrees[h].glowTree("highlight",false);k.highlight.apply(g(b.internal.state),[false])},
k={getParentAndIndex:function(b,h){var m=g(this).data("tree");if(!m)return null;m.internal.pagePosition==null&&d(m);var q={};q.parentNode=null;q.index=-1;if(b>m.internal.pagePosition.Left&&b<m.internal.pagePosition.Left+m.internal.pagePosition.Width&&h>m.internal.pagePosition.Top-10&&h<m.internal.pagePosition.Top+m.internal.pagePosition.Height+10){h-=m.internal.pagePosition.Top;h-=m.internal.container.offsetTop;h+=m.internal.wrapper.scrollTop;for(var r=q.index=0;r<m.internal.nodes.length;r++)if(m.internal.nodes[r]._element)if(h<
m.internal.nodes[r]._element.offsetHeight){if(m=m.internal.nodes[r]._getParentAndIndex(h))if(m.moveNext)q.index++;else q=m;break}else{h-=m.internal.nodes[r]._element.offsetHeight;q.index++}}return q},highlight:function(b){return this.each(function(){var h=g(this).data("tree");if(b){for(var m=0;m<h.internal.nodes.length;m++)h.internal.nodes[m]._highlight();h.internal.wrapper.style.backgroundColor="#cccccc";h.internal.wrapper.style.borderColor="#666666";d(h)}else{for(m=0;m<h.internal.nodes.length;m++)h.internal.nodes[m]._unhighlight();
h.internal.wrapper.style.backgroundColor=h.internal.backgroundColor;h.internal.wrapper.style.borderColor="#999999"}})},addDraggedNode:function(b,h,m,q){var r=this.data("tree");if(r){if(!q)q=window.event;if(h){h.insert(b,m);h.refresh()}else{k.insert.apply(g(r.internal.state),[b,m]);k.refresh.apply(g(r.internal.state),[])}g(r.internal.state).trigger(t.nodeAdded,[b]);k.selected.apply(g(r.internal.state),[b]);n(r,q,b);c(r)}return this},selected:function(b){if(b===undefined){var h=this.data("tree");if(h)return h.internal.selectedNode}else return this.each(function(){var m=
g(this).data("tree"),q=k.getByValue.apply(g(this),[b.value]);if(q){var r=m.internal.selectedNode;if(m.internal.selectedNode&&m.internal.selectedNode._element)m.internal.selectedNode._element.childNodes[1].style.backgroundColor=m.internal.backgroundColor;if(q._element){q._element.childNodes[1].style.backgroundColor="#ccc";m.internal.selectedNode=q;j(m,q);r!=q&&g(m.internal.state).trigger(t.nodeSelected,[m.internal.selectedNode])}else m.internal.selectedNode=null}})},resize:function(b,h){if(b<=4)b=
4;if(h<=4)h=4;return this.each(function(){var m=g(this).data("tree");m.internal.wrapper.style.width=b-4+"px";m.internal.wrapper.style.height=h-4+"px"})},disabled:function(b){if(b===undefined){var h=this.data("tree");if(h)return h.internal.state.readonly}else return this.each(function(){var m=g(this).data("tree");m.internal.state.readonly=b;k.refresh.apply(g(m.internal.state),[])})},refresh:function(){return this.each(function(){var b=g(this).data("tree");if(b.internal.initialized){for(;b.internal.container.childNodes.length>
0;)b.internal.container.removeChild(b.internal.container.childNodes[0]);for(var h=0;h<b.internal.nodes.length;h++){b.internal.nodes[h]._dispose(true);b.internal.nodes[h].refresh()}b.internal.selectedNode&&k.selected.apply(g(b.internal.state),[b.internal.selectedNode])}})},add:function(b){if(!b)return this;k.remove.apply(this,[b]);var h=true;return this.each(function(){if(h)h=false;else b=b._clone();var m=g(this).data("tree");b._parent=null;b._treeContext=m;m.internal.nodes[m.internal.nodes.length]=
b})},remove:function(b){if(b)return this.each(function(){var h=g(this).data("tree"),m=k.getByValue.apply(g(h.internal.state),[b.value]);if(m)if(m.getParent()==null){for(var q=[],r=false,s=0;s<h.internal.nodes.length;s++)if(h.internal.nodes[s]==m)r=true;else q[q.length]=h.internal.nodes[s];if(r){m._dispose();h.internal.nodes=q}}else m.getParent()._remove(m)})},insert:function(b,h){if(!b)return this;k.remove.apply(this,[b]);var m=true;return this.each(function(){if(m)m=false;else b=b._clone();var q=
g(this).data("tree");if(h<0||h>=q.internal.nodes.length)h=q.internal.nodes.length;for(var r=q.internal.nodes.length;r>h;r--)q.internal.nodes[r]=q.internal.nodes[r-1];b._parent=null;b._treeContext=q;q.internal.nodes[h]=b})},getByValue:function(b){var h=this.data("tree");if(h)for(var m,q=0;q<h.internal.nodes.length;q++)if(h.internal.nodes[q].value==b)return h.internal.nodes[q];else if((m=h.internal.nodes[q].getByValue(b))!=null)return m;return null},getIndex:function(b){var h=this.data("tree");if(h){for(var m=
0;m<h.internal.nodes.length;m++)if(h.internal.nodes[m]==b)return m;return-1}},getByIndex:function(b){var h=this.data("tree");if(h&&b<h.internal.nodes.length&&b>=0)return h.internal.nodes[b]},count:function(){var b=this.data("tree");if(b)return b.internal.nodes.length},createTreeNode:function(b){return new a(b)}};g.fn.glowTree=function(b){if(b in k)return k[b].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof b==="object"||!b)return x.apply(this,arguments);else g.error("Method "+b+
" does not exist on jQuery.fn.glowTree")};g.extend(g.fn.glowTree,{defaults:{enableDragDrop:false,getSubNodes:null,canHaveChildren:null,nodeHtml:[],draggableTrees:"",expandedImageUrl:"",collapsedImageUrl:"",blankImageUrl:""}});var a=function(b){var h={value:(new Date).getTime(),html:""};b&&g.extend(h,b);this.html=h.html;this.value=h.value;this._parent=null;this._canHaveChildren=true;this._isLoaded=this._isExpanded=false;this._element=this._treeContext=null;this._nodes=[]};a.prototype._clone=function(){for(var b=
new a({value:this.value,html:this.html}),h=0;h<this._nodes.length;h++)b.add(this._nodes[h]._clone());return b};a.prototype.add=function(b){b._parent=this;b._treeContext=this._treeContext;this._nodes[this._nodes.length]=b};a.prototype._dispose=function(b){this._element=null;if(!b)for(b=0;b<this._nodes.length;b++)this._nodes[b]._dispose()};a.prototype.refresh=function(){var b,h,m=false;this._element||(m=true);if(m){this._dispose();b=document.createElement("li");b.style.margin="0";b.style.padding="0";
b.onselectstart=function(){return false};try{b.style.MozUserSelect="none"}catch(q){}try{b.style.userSelect="none"}catch(r){}try{b.style.WebkitUserSelect="ignore"}catch(s){}}else b=this._element;for(;b.childNodes.length>0;)b.removeChild(b.childNodes[0]);b.appendChild(document.createElement("img"));b.appendChild(document.createElement("span"));b.childNodes[1].innerHTML=this.html;if(!k.disabled.apply(g(this._treeContext.internal.state))){b.childNodes[1].onclick=g.telligent.glow.utility.makeBoundFunction(k.selected,
g(this._treeContext.internal.state),[this]);var u=this;if(this._treeContext.settings.enableDragDrop)b.childNodes[1].onmousedown=function(z){n(u._treeContext,z,u)};b.childNodes[1].oncontextmenu=function(){g(u._treeContext.internal.state).trigger(t.contextMenu,[void 0,u])}}this._element=b;if(this._treeContext.internal.selectedNode==this)this._element.childNodes[1].style.backgroundColor="#ccc";if(this._nodes.length>0){this._isLoaded=true;b.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:
this._treeContext.settings.collapsedImageUrl;if(k.disabled.apply(g(this._treeContext.internal.state)))b.childNodes[0].style.cursor="default";else{b.childNodes[0].style.cursor="pointer";var A=this;b.childNodes[0].onclick=function(){A.expanded(!A._isExpanded,true)}}if(this._isExpanded){h=document.createElement("ul");h.style.listStyleType="none";h.style.margin="0";h.style.padding="0";h.style.paddingLeft="16px";b.appendChild(h);for(h=0;h<this._nodes.length;h++){this._nodes[h]._dispose(true);this._nodes[h]._parent=
this;this._nodes[h]._treeContext=this._treeContext;this._nodes[h].refresh()}}}else if(this._isLoaded||this._isExpanded||!this._treeContext.settings.getSubNodes){b.childNodes[0].src=this._treeContext.settings.blankImageUrl;b.childNodes[0].style.cursor="default"}else{b.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:this._treeContext.settings.collapsedImageUrl;if(k.disabled.apply(g(this._treeContext.internal.state)))b.childNodes[0].style.cursor="default";else{b.childNodes[0].style.cursor=
"pointer";A=this;b.childNodes[0].onclick=function(){A.expanded(!A._isExpanded,true)}}}if(m)this._parent?this._parent._element.childNodes[2].appendChild(b):this._treeContext.internal.container.appendChild(b)};a.prototype._getParentAndIndex=function(b){if(b>this._element.childNodes[1].offsetHeight/2&&(this._nodes.length==0||!this._isExpanded)){var h={};h.moveNext=true;return h}b-=this._element.childNodes[1].offsetHeight;if(b<0||this._nodes.length==0||!this._isExpanded)return null;else{h={};h.parentNode=
this;h.index=0;h.moveNext=false;for(var m=0;m<this._nodes.length;m++)if(this._nodes[m]._element)if(b<this._nodes[m]._element.offsetHeight){if(b=this._nodes[m]._getParentAndIndex(b))if(b.moveNext)h.index++;else h=b;break}else{b-=this._nodes[m]._element.offsetHeight;h.index++}return h}};a.prototype._highlight=function(){if(this._element){this._element.style.backgroundColor="#cccccc";if(this._isExpanded)for(var b=0;b<this._nodes.length;b++)this._nodes[b]._highlight()}};a.prototype._unhighlight=function(){if(this._element){this._element.style.backgroundColor=
this._treeContext.internal.backgroundColor;if(this._isExpanded)for(var b=0;b<this._nodes.length;b++)this._nodes[b]._unhighlight()}};a.prototype._setCursor=function(b){if(this._element){this._element.style.cursor=b;if(this._isExpanded)for(var h=0;h<this._nodes.length;h++)this._nodes[h]._setCursor(b)}};a.prototype.expanded=function(b,h){if(b===undefined)return this._isExpanded;else{this._isExpanded=b?true:false;if(this._treeContext){if(this._element&&this._element.childNodes.length==3){this._element.childNodes[2].style.display=
this._isExpanded?"block":"none";this._element.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:this._treeContext.settings.collapsedImageUrl}else{if(this._isExpanded&&!this._isLoaded&&this._treeContext.settings.getSubNodes){this._treeContext.settings.getSubNodes(g(this._treeContext.internal.state),this);this._isLoaded=true}this.refresh()}if(h)this._isExpanded?j(this._treeContext,this,true):j(this._treeContext,this,false)}}};a.prototype.add=function(b){k.remove.apply(g(this._treeContext.internal.state),
[b]);b._parent=this;b._treeContext=this._treeContext;this._nodes[this._nodes.length]=b};a.prototype._remove=function(b){for(var h=[],m=false,q=0;q<this._nodes.length;q++)if(this._nodes[q].value==b.value)m=true;else h[h.length]=this._nodes[q];if(m){b._dispose();this._nodes=h}};a.prototype.canHaveChildren=function(b){if(b===undefined)return this._treeContext&&this._treeContext.settings.canHaveChildren?this._treeContext.settings.canHaveChildrenFunction(g(this._treeContext.internal.state),this):this._canHaveChildren;
else this._canHaveChildren=b===true};a.prototype.insert=function(b,h){if(h>=0){k.remove.apply(g(this._treeContext.internal.state),[b]);if(h>this._nodes.length)h=this._nodes.length;for(var m=this._nodes.length;m>h;m--)this._nodes[m]=this._nodes[m-1];this._nodes[h]=b;b._parent=this;b._treeContext=this._treeContext}};a.prototype.getByValue=function(b){for(var h,m=0;m<this._nodes.length;m++)if(this._nodes[m].value==b)return this._nodes[m];else if((h=this._nodes[m].getByValue(b))!=null)return h;return null};
a.prototype.getIndex=function(b){for(var h=0;h<this._nodes.length;h++)if(this._nodes[h].value==b.value)return h;return-1};a.prototype.getByIndex=function(b){return b<this._nodes.length&&b>=0?this._nodes[b]:null};a.prototype.count=function(){return this._nodes.length};a.prototype.getParent=function(){return this._parent};a.prototype.getTree=function(){return g(this._treeContext.internal.state)};a.prototype.isLoaded=function(){return this._isLoaded}})(jQuery);
